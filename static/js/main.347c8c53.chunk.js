(this.webpackJsonpcow_map=this.webpackJsonpcow_map||[]).push([[0],{169:function(e,t){},320:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},355:function(e,t){},357:function(e,t){},427:function(e,t){},445:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},452:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){},460:function(e,t,a){},461:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){},464:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(15),c=a.n(i),l=a(173),s=a.n(l),o=a(8),u=a(3),d=a(5),b=a(95),j=a(7),f="".concat("/cow_map","/data/map/countries-110m.json"),O=function(e){Object(j.h)(f).then((function(t){var a=function(e){var t,a=e.countries,n=e.land,r=n.geometries[0].arcs,i=[],c=Object(d.a)(r);try{for(c.s();!(t=c.n()).done;){var l,s=t.value,o=[],u=Object(d.a)(s);try{for(u.s();!(l=u.n()).done;){var b,j=l.value,f=[],O=Object(d.a)(j);try{for(O.s();!(b=O.n()).done;){var h=b.value;(h<562||h>569)&&f.push(h)}}catch(p){O.e(p)}finally{O.f()}f.length>0&&o.push(f)}}catch(p){u.e(p)}finally{u.f()}o.length>0&&i.push(o)}}catch(p){c.e(p)}finally{c.f()}return a.geometries=a.geometries.filter((function(e){return"010"!==e.id})),n.geometries[0].arcs=i,{countries:a,land:n}}(t.objects),n=a.countries,r=a.land;e({type:"LOAD_DATA",data:{landData:Object(b.a)(t,r),interiorData:Object(b.b)(t,n,(function(e,t){return e!==t}))}})}))},h={"is-signed":{displayName:"Between Signing and End?",type:"point",startYearAttrType:"signYear",endYearAttrType:"endYear",requirementList:["signYear"],rangeDependencyList:["signYear"],key:"is-signed"},"is-start":{displayName:"Between Start and End?",type:"point",startYearAttrType:"startYear",endYearAttrType:"endYear",requirementList:["startYear"],rangeDependencyList:["startYear"],key:"is-start"},"is-in-force":{displayName:"Between EIF and End?",type:"point",startYearAttrType:"EIFYear",endYearAttrType:"endYear",requirementList:["EIFYear"],rangeDependencyList:["EIFYear"],key:"is-in-force"},"include-sign":{displayName:"Include Sign Year?",type:"range",filterYearAttrType:"signYear",requirementList:["signYear"],rangeDependencyList:["signYear"],key:"include-sign"},"include-start":{displayName:"Include Start Year?",type:"range",filterYearAttrType:"startYear",requirementList:["startYear"],rangeDependencyList:["startYear"],key:"include-start"},"include-in-force":{displayName:"Include EIF Year?",type:"range",filterYearAttrType:"EIFYear",requirementList:["EIFYear"],rangeDependencyList:["EIFYear"],key:"include-in-force"},"no-filter":{displayName:"No Filtering",type:"no-filter",key:"no-filter"}},p={links:[{linkType:"wars",fileName:"wars.csv",isDirected:!0,isWeighted:!1,displayName:"Dyadic Interstate War",startYear:"startYear",signYear:null,EIFYear:null,endYear:"endYear",subItemList:[],tooltip:{attributeList:[{attributeName:"node1",displayName:"initiator",isID:!0},{attributeName:"node2",displayName:"target",isID:!0},{attributeName:"startYear",displayName:"start year",isID:!1},{attributeName:"endYear",displayName:"end year",isID:!1},{attributeName:"battleYear",displayName:"battle year",isID:!1},{attributeName:"warName",displayName:"war name",isID:!1},{attributeName:"outcome",displayName:"outcome",isID:!1},{attributeName:"node1Deaths",displayName:"battle deaths initiator",isID:!1},{attributeName:"node2Deaths",displayName:"battle deaths target",isID:!1}]},dataTable:{attributeList:[{attributeName:"node1",displayName:"initiator",isID:!0},{attributeName:"node2",displayName:"target",isID:!0},{attributeName:"startYear",displayName:"start year",isID:!1},{attributeName:"endYear",displayName:"end year",isID:!1},{attributeName:"battleYear",displayName:"battle year",isID:!1},{attributeName:"warName",displayName:"war name",isID:!1},{attributeName:"outcome",displayName:"outcome",isID:!1},{attributeName:"node1Deaths",displayName:"battle deaths initiator",isID:!1},{attributeName:"node2Deaths",displayName:"battle deaths target",isID:!1}]},linkDisaggregator:{optionList:[{displayName:"initiator",attributeList:[{attributeName:"node1",isID:!0}]},{displayName:"target",attributeList:[{attributeName:"node2",isID:!0}]}]},eventName:"war"},{linkType:"defense_agreements",fileName:"defense_agreements.csv",isDirected:!1,isWeighted:!1,displayName:"Defense Cooperation Agreements",startYear:null,signYear:"signYear",EIFYear:"EIFYear",endYear:"endYearEstimated",subItemList:[],tooltip:{attributeList:[{attributeName:"node1",displayName:"country 1",isID:!0},{attributeName:"node2",displayName:"country 2",isID:!0},{attributeName:"signYear",displayName:"sign year",isID:!1},{attributeName:"EIFYear",displayName:"entry into force Year",isID:!1},{attributeName:"endYearEstimated",displayName:"end year",isID:!1},{attributeName:"type",displayName:"type",isID:!1},{attributeName:"category",displayName:"category",isID:!1}]},dataTable:{attributeList:[{attributeName:"node1",displayName:"country 1",isID:!0},{attributeName:"node2",displayName:"country 2",isID:!0},{attributeName:"signYear",displayName:"sign year",isID:!1},{attributeName:"EIFYear",displayName:"entry into force Year",isID:!1},{attributeName:"endYearEstimated",displayName:"end year",isID:!1},{attributeName:"type",displayName:"type",isID:!1},{attributeName:"category",displayName:"category",isID:!1}]},linkDisaggregator:{optionList:[{displayName:"country",attributeList:[{attributeName:"node1",isID:!0},{attributeName:"node2",isID:!0}]},{displayName:"type",attributeList:[{attributeName:"type",isID:!1}]},{displayName:"category",attributeList:[{attributeName:"category",isID:!1}]}]},eventName:"agreement"}],timeSeries:[{fileName:"trade_volume.csv",displayName:"Trade Volume",isBilateral:!0,metricName:"trade volume"},{fileName:"military_expenditures.csv",displayName:"Military Expenditures (in thousands USD)",isBilateral:!1,metricName:"military expenditure"},{fileName:"military_personnel.csv",displayName:"Military Personnel (thousands)",isBilateral:!1,metricName:"military personnel"},{fileName:"total_population.csv",displayName:"Total Population",isBilateral:!1,metricName:"population"}]},m=function(e){var t=[],a=function(e){var t,a=[],n=Object(d.a)(e.links);try{for(n.s();!(t=n.n()).done;){var r=t.value,i="".concat("/cow_map","/data/links/").concat(r.fileName),c=Object(j.a)(i);a.push(c)}}catch(l){n.e(l)}finally{n.f()}return a}(p);Promise.all(a).then((function(a){for(var n=0;n<a.length;n++)t.push({data:a[n],metadata:p.links[n]});e({type:"LOAD_DATA",data:{linkDataList:t}})}))},v="".concat("/cow_map","/data/nodes/countries.csv"),g=function(e){var t,a={},n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;a[r.ID]=r}}catch(i){n.e(i)}finally{n.f()}return a},y=function(e){return Object(u.a)(Object(u.a)({},e),{},{latitude:""!==e.latitude?+e.latitude:null,longitude:""!==e.longitude?+e.longitude:null})},N=a(18),E=function(e){return Object(u.a)(Object(u.a)({},e),{},{year:""!==e.year?+e.year:null,value:""!==e.value?+e.value:null})},x=function(e,t){var a,n=new Set,r=Object(d.a)(e);try{for(r.s();!(a=r.n()).done;){var i=a.value.year;null!==i&&n.add(i)}}catch(c){r.e(c)}finally{r.f()}return Object(u.a)(Object(u.a)({},t),{},{yearList:Object(N.a)(n).sort((function(e,t){return e-t}))})},L=function(e,t){var a={},n=t.isBilateral;if(n){var r,i=Object(d.a)(e);try{for(i.s();!(r=i.n()).done;){var c=r.value,l=c.node1+"-"+c.node2;l in a||(a[l]=[]),a[l].push(c)}}catch(j){i.e(j)}finally{i.f()}}else if(!n){var s,o=Object(d.a)(e);try{for(o.s();!(s=o.n()).done;){var u=s.value,b=u.ID;b in a||(a[b]=[]),a[b].push(u)}}catch(j){o.e(j)}finally{o.f()}}return a},D=function(e){var t=[],a=function(e){var t,a=[],n=Object(d.a)(e.timeSeries);try{for(n.s();!(t=n.n()).done;){var r=t.value,i="".concat("/cow_map","/data/timeSeries/").concat(r.fileName),c=Object(j.a)(i,E);a.push(c)}}catch(l){n.e(l)}finally{n.f()}return a}(p);Promise.all(a).then((function(a){for(var n=0;n<a.length;n++){var r=a[n],i=x(r,p.timeSeries[n]),c=L(r,i);t.push({data:c,metadata:i})}e({type:"LOAD_DATA",data:{timeSeriesDataList:t}})}))},S=function(e){var t=e.landData,a=e.interiorData,n=e.linkDataList,r=e.nodeList,i=e.countryIDToData,c=e.timeSeriesDataList;return null===t||null===a||null===n||null===r||null===i||null===c},T={landData:null,interiorData:null,linkDataList:null,nodeList:null,countryIDToData:null,timeSeriesDataList:null,isLoading:!0},I=function(e,t){switch(t.type){case"LOAD_DATA":return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.data),{},{isLoading:S(Object(u.a)(Object(u.a)({},e),t.data))});default:throw new Error("Unhandled action type: ".concat(t.type))}},k=function(){var e=Object(n.useReducer)(I,T),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){O(r),m(r),function(e){Object(j.a)(v,y).then((function(t){e({type:"LOAD_DATA",data:{nodeList:t,countryIDToData:g(t)}})}))}(r),D(r)}),[]),[a,r]},_=a(19),A=function(e){var t,a=new Set,n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.isSelected,c=r.isDirected,l=r.linkRowList;if(i&&c){var s,o=Object(d.a)(l);try{for(o.s();!(s=o.n()).done;){var u=s.value.node1;a.add(u)}}catch(p){o.e(p)}finally{o.f()}}else if(i&&!c){var b,j=Object(d.a)(l);try{for(j.s();!(b=j.n()).done;){var f=b.value,O=f.node1,h=f.node2;a.add(O),a.add(h)}}catch(p){j.e(p)}finally{j.f()}}}}catch(p){n.e(p)}finally{n.f()}return a},w=function(e){var t,a=new Set,n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.isSelected,c=r.isDirected,l=r.linkRowList;if(i&&c){var s,o=Object(d.a)(l);try{for(o.s();!(s=o.n()).done;){var u=s.value.node2;a.add(u)}}catch(p){o.e(p)}finally{o.f()}}else if(i&&!c){var b,j=Object(d.a)(l);try{for(j.s();!(b=j.n()).done;){var f=b.value,O=f.node1,h=f.node2;a.add(O),a.add(h)}}catch(p){j.e(p)}finally{j.f()}}}}catch(p){n.e(p)}finally{n.f()}return a},C=function(e,t,a){if(null===t[a])return null;var n=t[a],r=function(e,t){var a,n=1/0,r=-1/0,i=Object(d.a)(e);try{for(i.s();!(a=i.n()).done;){var c=a.value;""!==c[t]&&(n=Math.min(n,+c[t]),r=Math.max(r,+c[t]))}}catch(l){i.e(l)}finally{i.f()}return[n=n===1/0?null:n,r=r===-1/0?null:r]}(e,n),i=Object(o.a)(r,2);return{attributeName:n,min:i[0],max:i[1]}},R=function(e){return j.k[e%j.k.length]},P=function(e,t){var a=e.data,n=e.metadata,r=n.linkType,i=n.isDirected,c=n.isWeighted,l=n.tooltip,s=n.dataTable,o=n.linkDisaggregator,u=n.eventName;return{key:r,isShown:!0,isSelected:0===t,isSubItem:!1,canDelete:!1,displayName:n.displayName,startYear:C(a,n,"startYear"),signYear:C(a,n,"signYear"),EIFYear:C(a,n,"EIFYear"),endYear:C(a,n,"endYear"),outlierCount:function(e,t){var a,n=[],r=t.isDirected,i={},c=Object(d.a)(e);try{for(c.s();!(a=c.n()).done;){var l=a.value,s=l.node1,o=l.node2,u=r||s<o?o:s,b="".concat(r||s<o?s:o,"-").concat(u);b in i||(i[b]=0),i[b]++}}catch(f){c.e(f)}finally{c.f()}for(var j in i)n.push(i[j]);return n.sort((function(e,t){return e-t})),n[parseInt(.9*n.length)]}(a,n),color:R(t),linkRowList:a,linkType:r,isDirected:i,isWeighted:c,tooltip:l,dataTable:s,linkDisaggregator:o,eventName:u}},M=function(e,t,a){for(var n=e.EIFYear,r=e.dataTable,i=e.endYear,c=e.isDirected,l=e.isWeighted,s=e.outlierCount,o=e.signYear,u=e.startYear,b=e.tooltip,j=e.eventName,f=[],O=function(O){var h=t[O],p=e.key,m=function(e){var t,a="",n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.attrDisplayName,c=r.valueDisplayName;a+="".concat(i,"=").concat(c,", ")}}catch(l){n.e(l)}finally{n.f()}return a.slice(0,-2)}(h),v=m.replace(/[^0-9a-z]/gi,"").toLowerCase(),g=R(a+O),y="".concat(p,"_").concat(v),N=y,E=e.linkRowList.filter((function(e){return function(e,t){var a,n=Object(d.a)(t);try{for(n.s();!(a=n.n()).done;){var r,i=a.value,c=i.attributeList,l=i.attributeValue,s=!1,o=Object(d.a)(c);try{for(o.s();!(r=o.n()).done;)if(e[r.value]===l){s=!0;break}}catch(u){o.e(u)}finally{o.f()}if(!s)return!1}}catch(u){n.e(u)}finally{n.f()}return!0}(e,h)}));f.push({EIFYear:n,canDelete:!1,color:g,dataTable:r,displayName:m,endYear:i,isDirected:c,isSelected:!1,isShown:!0,isSubItem:!0,isWeighted:l,key:y,linkRowList:E,linkType:N,outlierCount:s,signYear:o,startYear:u,tooltip:b,parentLinkDataObject:e,eventName:j})},h=0;h<t.length;h++)O(h);return f},Y=function(e,t,a){var n,r=[],i="source"===a?A(e):w(e),c=Object(d.a)(t);try{for(c.s();!(n=c.n()).done;){var l=n.value,s=l.ID,o=l.name,u=s,b=i.has(s),j=b,f=o,O=l;r.push({key:u,isShown:b,isSelected:j,isSubItem:!1,canDelete:!1,displayName:f,data:O})}}catch(h){c.e(h)}finally{c.f()}return r.sort((function(e,t){return e.displayName<t.displayName?-1:e.displayName>t.displayName?1:0}))},U=function(e,t){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isSelected:e.key===t?!e.isSelected:e.isSelected})}))},B=function(e,t){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isSelected:t})}))},F=function(e,t,a){var n,r=[],i="source"===a?A(e):w(e),c=Object(d.a)(t);try{for(c.s();!(n=c.n()).done;){var l=n.value,s=l.data.ID,o=l.isShown,u=i.has(s),b=null;!o&&u?b=!0:o||u?o&&!u?b=!1:o&&u&&(b=!0):b=!1,l.isShown=u,l.isSelected=b,r.push(l)}}catch(j){c.e(j)}finally{c.f()}return r},V=function(e,t){return F(e,t,"source")},z=function(e,t){return F(e,t,"target")},W=function(e,t,a){for(var n=[],r=0;r<t.length;r++){var i=t[r],c=new Set;if(0===n.length){var l,s=Object(d.a)(i.attributeList);try{for(s.s();!(l=s.n()).done;){var o=l.value,u=o.attributeName,b=o.isID?a[e[u]].displayName:""===e[u]?"null":e[u],j="".concat(i.displayName,"=").concat(b,", ");c.add(j)}}catch(E){s.e(E)}finally{s.f()}}else for(;n.length>0;){var f,O=n.shift(),h=Object(d.a)(i.attributeList);try{for(h.s();!(f=h.n()).done;){var p=f.value,m=p.attributeName,v=p.isID?a[e[m]].displayName:""===e[m]?"null":e[m],g=O+"".concat(i.displayName,"=").concat(v,", ");c.add(g)}}catch(E){h.e(E)}finally{h.f()}}n=Object(N.a)(c)}for(var y=0;y<n.length;y++)n[y]=n[y].slice(0,-2);return n},K=function(e,t,a,n){if(0===a.length)return e;var r,i=e.filter((function(e){return e.key===t}))[0],c=i.linkRowList,l=e.map((function(e){return e.color})),s=function(e,t,a){var n,r={},i=Object(d.a)(e);try{for(i.s();!(n=i.n()).done;){var c,l=n.value,s=W(l,t,a),o=Object(d.a)(s);try{for(o.s();!(c=o.n()).done;){var u=c.value;u in r||(r[u]=[]),r[u].push(l)}}catch(b){o.e(b)}finally{o.f()}}}catch(b){i.e(b)}finally{i.f()}return r}(c,a,n),o=function(e,t,a){var n=e.EIFYear,r=e.dataTable,i=e.endYear,c=e.isDirected,l=e.isWeighted,s=e.outlierCount,o=e.signYear,u=e.startYear,d=e.tooltip,b=e.eventName,j=[];for(var f in t){var O=e.key,h=f.replace(/[^0-9a-z]/gi,"").toLowerCase(),p=a[f],m=f,v="".concat(O,"_").concat(h),g=t[f],y=v;j.push({EIFYear:n,canDelete:!0,color:p,dataTable:r,displayName:m,endYear:i,isDirected:c,isSelected:!1,isShown:!0,isSubItem:!0,isWeighted:l,key:v,linkRowList:g,linkType:y,outlierCount:s,signYear:o,startYear:u,tooltip:d,parentLinkDataObject:e,eventName:b})}return j}(i,s,function(e,t){var a,n=[],r=Object.keys(t),i={},c=Object(d.a)(j.k);try{for(c.s();!(a=c.n()).done;){var l=a.value;n.length<r.length&&-1===e.indexOf(l)&&n.push(l)}}catch(u){c.e(u)}finally{c.f()}for(;n.length<r.length;){var s=Math.floor(Math.random()*j.k.length);n.push(j.k[s])}for(var o=0;o<r.length;o++)i[r[o]]=n[o];return i}(l,s)),u=e.filter((function(e){return e.isSubItem})),b=e.filter((function(e){return!e.isSubItem})),f=function(e,t){var a,n={},r=Object(d.a)(e);try{for(r.s();!(a=r.n()).done;){var i=a.value,c=i.parentLinkDataObject.key;c in n||(n[c]=[]),n[c].push(i)}}catch(b){r.e(b)}finally{r.f()}var l,s=Object(d.a)(t);try{var o=function(){var e=l.value,t=e.parentLinkDataObject.key,a=e.key;t in n||(n[t]=[]),n[t].filter((function(e){return e.key===a})).length>0||n[t].push(e)};for(s.s();!(l=s.n()).done;)o()}catch(b){s.e(b)}finally{s.f()}for(var u in n)n[u].sort((function(e,t){return e.displayName<t.displayName?-1:e.displayName>t.displayName?1:0}));return n}(u,o),O=[],h=Object(d.a)(b);try{for(h.s();!(r=h.n()).done;){var p=r.value,m=p.key;if(m in f){var v=f[m];O.push(p);var g,y=Object(d.a)(v);try{for(y.s();!(g=y.n()).done;){var N=g.value;O.push(N)}}catch(E){y.e(E)}finally{y.f()}}else O.push(p)}}catch(E){h.e(E)}finally{h.f()}return O},H=function(e,t){var a=t.rangeDependencyList,n=(new Date).getFullYear(),r=1/0;return e.filter((function(e){return e.isSelected})).forEach((function(e){var t,n=Object(d.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;null!==e[i]&&null!==e[i].min&&(r=Math.min(r,e[i].min))}}catch(c){n.e(c)}finally{n.f()}})),r===1/0||r>n-10?n-10:r},G=function(e,t){var a=t.rangeDependencyList,n=(new Date).getFullYear(),r=-1/0;return e.filter((function(e){return e.isSelected})).forEach((function(e){var t,n=Object(d.a)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;null!==e[i]&&null!==e[i].max&&(r=Math.max(r,e[i].max))}}catch(c){n.e(c)}finally{n.f()}})),r===-1/0||r<n+10?n+10:r},X=function(e){var t=h["no-filter"],a=function(e){var t=[h["no-filter"]],a=e.filter((function(e){return e.isSelected}));for(var n in h)if("no-filter"!==n){var r,i=h[n],c=i.requirementList,l=!0,s=Object(d.a)(c);try{for(s.s();!(r=s.n()).done;){var o,u=r.value,b=!1,j=Object(d.a)(a);try{for(j.s();!(o=j.n()).done;)if(null!==o.value[u]){b=!0;break}}catch(f){j.e(f)}finally{j.f()}if(!b){l=!1;break}}}catch(f){s.e(f)}finally{s.f()}l&&t.push(i)}return t}(e),n=(new Date).getFullYear();return{yearAttribute:t,yearAttributeList:a,min:n-10,max:n+10,value:n}},q=function(e,t,a){var n=a.yearAttribute.type;switch(n){case"no-filter":return!0;case"point":var r=a.value,i=a.yearAttribute,c=i.startYearAttrType,l=i.endYearAttrType,s=t[c],o=t[l],u=null,d=null;return null!==s&&""!==e[s.attributeName]&&(u=+e[s.attributeName]),null!==o&&""!==e[o.attributeName]&&(d=+e[o.attributeName]),null!==u&&(null===d?r>=u:r>=u&&r<=d);case"range":var b=a.value,j=t[a.yearAttribute.filterYearAttrType],f=null;return null!==j&&""!==e[j.attributeName]&&(f=+e[j.attributeName]),null!==f&&(f>=b[0]&&f<=b[1]);default:throw new Error("Unhandled case: ".concat(n))}},Q=function(e){var t=e.filter((function(e){return e.isSelected})).map((function(e){return e.data.ID}));return new Set(t)},$=function(e,t,a,n){var r=[],i=function(e){var t={};return e.forEach((function(e){var a=e.linkType;t[a]=e})),t}(e),c=function(e,t,a,n){var r,i={},c=Q(t),l=Q(a),s=Object(d.a)(e);try{for(s.s();!(r=s.n()).done;){var o=r.value,u=o.linkRowList,b=o.isSelected,j=o.isDirected,f=o.linkType;if(b){var O,h=Object(d.a)(u);try{for(h.s();!(O=h.n()).done;){var p=O.value;if(j){var m=p.node1,v=p.node2,g=c.has(m),y=l.has(v),N=q(p,o,n);if(g&&y&&N){var E="".concat(m,"-").concat(v,"-").concat(f);E in i||(i[E]=[]),i[E].push(p)}}else if(!j){var x=p.node1<p.node2?p.node1:p.node2,L=p.node1<p.node2?p.node2:p.node1,D=c.has(p.node1)&&l.has(p.node2),S=c.has(p.node2)&&l.has(p.node1),T=q(p,o,n);if((D||S)&&T){var I="".concat(x,"-").concat(L,"-").concat(f);I in i||(i[I]=[]),i[I].push(p)}}}}catch(k){h.e(k)}finally{h.f()}}}}catch(k){s.e(k)}finally{s.f()}return i}(e,t,a,n);for(var l in c){var s=l.split("-"),u=Object(o.a)(s,3),b=u[0],j=u[1],f=u[2],O=i[f],h=O.isDirected,p=O.isWeighted,m=O.color,v=O.outlierCount,g=O.tooltip,y=O.dataTable,N=O.eventName,E=c[l],x=E.length>v;r.push({sourceID:b,targetID:j,linkType:f,color:m,isDirected:h,isWeighted:p,isOutlier:x,linkRowList:E,tooltip:g,dataTable:y,eventName:N})}return r},J=function(e){var t,a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){if(!t.value.isDirected)return!1}}catch(n){a.e(n)}finally{a.f()}return!0},Z=function(e){var t,a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){if(!t.value.isWeighted)return!1}}catch(n){a.e(n)}finally{a.f()}return!0},ee=function(e){return-1!==["Degree","In Degree","Out Degree","Closeness","Betweenness","Eigenvector","PageRank"].indexOf(e)},te=function(e,t,a){if(!ee(t))return e.filter((function(e){return e.metadata.displayName===t}))[0].metadata.yearList;switch(t){case"Closeness":case"Betweenness":return a?["directed","undirected"]:["undirected"];case"In Degree":case"Out Degree":case"PageRank":return["directed"];case"Degree":case"Eigenvector":return["undirected"];default:throw new Error("Unhandled option: ".concat(t))}},ae=function(e,t,a){if(!ee(t))return e.filter((function(e){return e.metadata.displayName===t}))[0].metadata.yearList;switch(t){case"Closeness":case"Betweenness":case"Eigenvector":return a?["weighted","unweighted"]:["unweighted"];case"Degree":case"In Degree":case"Out Degree":case"PageRank":return["unweighted"];default:throw new Error("Unhandled option: ".concat(t))}},ne=function(e,t,a){var n,r,i=a.isOpen,c=a.mainOption,l=a.subOption1,s=a.subOption2;if(!i)return a;if(i){var o=J(t),u=Z(t),b=function(e,t,a){var n,r=[],i=Object(d.a)(e);try{for(i.s();!(n=i.n()).done;){var c=n.value.metadata.displayName;r.push(c)}}catch(l){i.e(l)}finally{i.f()}return t?t&&!a?[].concat(r,["Degree","In Degree","Out Degree","Closeness","Betweenness","Eigenvector","PageRank"]):t&&a?[].concat(r,["Degree","In Degree","Out Degree","Closeness","Betweenness","Eigenvector"]):void 0:[].concat(r,["Degree","Closeness","Betweenness","Eigenvector"])}(e,o,u),j=(r=c,-1===(n=b).indexOf(r)?n[0]:r),f=te(e,j,o),O=function(e,t){return-1===e.indexOf(t)?e[0]:t}(f,l),h=ae(e,j,u);return{isOpen:i,mainOption:j,mainOptionList:b,subOption1:O,subOption1List:f,subOption2:function(e,t,a){var n=ee(e),r=-1!==t.indexOf(a);return!n&&r?a:n||r?n&&r?a:n&&!r?t[0]:void 0:t[t.length-1]}(j,h,s),subOption2List:h}}},re={linkPane:{list:[]},sourcePane:{list:[]},targetPane:{list:[]},visualizationPane:{list:[]},colorPicker:{isOpen:!1,linkKey:null,currColor:null,colorTop:null,colorLeft:null,colorWidth:null,colorHeight:null},timelineSlider:{yearAttribute:h["no-filter"],yearAttributeList:[h["no-filter"]],min:(new Date).getFullYear()-10,max:(new Date).getFullYear()+10,value:(new Date).getFullYear()},detailPane:{isOpen:!1,mainOption:null,mainOptionList:[null],subOption1:null,subOption1List:[null],subOption2:null,subOption2List:[null]},searchWindow:{isOpen:!1},linkDisaggregator:{isOpen:!1},hover:{object:null,data:null},focus:{object:null,data:null},isLoading:!0},ie=function(e,t,a){switch(a.type){case"INIT_INTERFACE":var n=t.linkDataList,r=t.nodeList,i=t.timeSeriesDataList,c=e.detailPane,l=function(e){var t,a=[],n=0,r=Object(d.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,c=P(i,n++),l=M(c,i.metadata.subItemList,n);a.push(c);var s,o=Object(d.a)(l);try{for(o.s();!(s=o.n()).done;){var u=s.value;a.push(u),n++}}catch(b){o.e(b)}finally{o.f()}}}catch(b){r.e(b)}finally{r.f()}return a}(n),s=function(e,t){return Y(e,t,"source")}(l,r),o=function(e,t){return Y(e,t,"target")}(l,r),b=X(l),j=$(l,s,o,b),f=ne(i,j,c);return Object(u.a)(Object(u.a)({},e),{},{linkPane:{list:l},sourcePane:{list:s},targetPane:{list:o},timelineSlider:b,visualizationPane:{list:j},detailPane:f,isLoading:!1});case"SELECT_LINK_PANE_ITEM":var O=a.linkKey,h=t.timeSeriesDataList,p=e.linkPane.list,m=e.sourcePane.list,v=e.targetPane.list,g=e.detailPane,y=U(p,O),N=V(y,m),E=z(y,v),x=X(y),L=$(y,N,E,x),D=ne(h,L,g);return Object(u.a)(Object(u.a)({},e),{},{linkPane:{list:y},sourcePane:{list:N},targetPane:{list:E},timelineSlider:x,visualizationPane:{list:L},detailPane:D});case"SELECT_LINK_PANE_ITEMS":var S=a.isSelected,T=t.timeSeriesDataList,I=e.linkPane.list,k=e.sourcePane.list,A=e.targetPane.list,w=e.detailPane,C=B(I,S),R=V(C,k),F=z(C,A),W=X(C),q=$(C,R,F,W),Q=ne(T,q,w);return Object(u.a)(Object(u.a)({},e),{},{linkPane:{list:C},sourcePane:{list:R},targetPane:{list:F},timelineSlider:W,visualizationPane:{list:q},detailPane:Q});case"REMOVE_LINK_PANE_ITEM":var re=a.linkKey,ie=t.timeSeriesDataList,ce=e.linkPane.list,le=e.sourcePane.list,se=e.targetPane.list,oe=e.detailPane,ue=ce.filter((function(e){return e.key!==re})),de=V(ue,le),be=z(ue,se),je=X(ue),fe=$(ue,de,be,je),Oe=ne(ie,fe,oe);return Object(u.a)(Object(u.a)({},e),{},{linkPane:{list:ue},sourcePane:{list:de},targetPane:{list:be},timelineSlider:je,visualizationPane:{list:fe},detailPane:Oe});case"SELECT_SOURCE_PANE_ITEM":var he=a.sourceKey,pe=t.timeSeriesDataList,me=e.linkPane.list,ve=e.sourcePane.list,ge=e.targetPane.list,ye=e.timelineSlider,Ne=e.detailPane,Ee=U(ve,he),xe=$(me,Ee,ge,ye),Le=ne(pe,xe,Ne);return Object(u.a)(Object(u.a)({},e),{},{sourcePane:{list:Ee},visualizationPane:{list:xe},detailPane:Le});case"SELECT_SOURCE_PANE_ITEMS":var De=a.isSelected,Se=t.timeSeriesDataList,Te=e.linkPane.list,Ie=e.sourcePane.list,ke=e.targetPane.list,_e=e.timelineSlider,Ae=e.detailPane,we=B(Ie,De),Ce=$(Te,we,ke,_e),Re=ne(Se,Ce,Ae);return Object(u.a)(Object(u.a)({},e),{},{sourcePane:{list:we},visualizationPane:{list:Ce},detailPane:Re});case"SELECT_TARGET_PANE_ITEM":var Pe=a.targetKey,Me=t.timeSeriesDataList,Ye=e.linkPane.list,Ue=e.sourcePane.list,Be=e.targetPane.list,Fe=e.timelineSlider,Ve=e.detailPane,ze=U(Be,Pe),We=$(Ye,Ue,ze,Fe),Ke=ne(Me,We,Ve);return Object(u.a)(Object(u.a)({},e),{},{targetPane:{list:ze},visualizationPane:{list:We},detailPane:Ke});case"SELECT_TARGET_PANE_ITEMS":var He=a.isSelected,Ge=t.timeSeriesDataList,Xe=e.linkPane.list,qe=e.sourcePane.list,Qe=e.targetPane.list,$e=e.timelineSlider,Je=e.detailPane,Ze=B(Qe,He),et=$(Xe,qe,Ze,$e),tt=ne(Ge,et,Je);return Object(u.a)(Object(u.a)({},e),{},{targetPane:{list:Ze},visualizationPane:{list:et},detailPane:tt});case"MOUSE_ENTER_DATA_SELECTION_PANE_ITEM":var at=a.textEl,nt=at.getBoundingClientRect(),rt=nt.top,it=nt.height;return Object(u.a)(Object(u.a)({},e),{},{hover:{object:"DATA_SELECTION_PANE_ITEM",data:{left:240,top:rt-8+it/2,text:at.innerText}}});case"MOUSE_LEAVE_DATA_SELECTION_PANE_ITEM":return Object(u.a)(Object(u.a)({},e),{},{hover:{object:null,data:null}});case"CHANGE_TIMELINE_SLIDER":var ct=a.value,lt=t.timeSeriesDataList,st=e.linkPane.list,ot=e.sourcePane.list,ut=e.targetPane.list,dt=e.timelineSlider,bt=e.detailPane,jt=Object(u.a)(Object(u.a)({},dt),{},{value:ct}),ft=$(st,ot,ut,jt),Ot=ne(lt,ft,bt);return Object(u.a)(Object(u.a)({},e),{},{timelineSlider:jt,visualizationPane:{list:ft},detailPane:Ot});case"SELECT_YEAR_ATTRIBUTE":var ht=a.yearAttribute,pt=t.timeSeriesDataList,mt=e.linkPane.list,vt=e.sourcePane.list,gt=e.targetPane.list,yt=e.timelineSlider,Nt=e.detailPane,Et="no-filter"===ht.key?Object(u.a)(Object(u.a)({},yt),{},{yearAttribute:ht,min:(new Date).getFullYear()-10,max:(new Date).getFullYear()+10,value:(new Date).getFullYear()}):Object(u.a)(Object(u.a)({},yt),{},{yearAttribute:ht,min:H(mt,ht),max:G(mt,ht),value:"point"===ht.type?(new Date).getFullYear():[H(mt,ht),G(mt,ht)]}),xt=$(mt,vt,gt,Et),Lt=ne(pt,xt,Nt);return Object(u.a)(Object(u.a)({},e),{},{timelineSlider:Et,visualizationPane:{list:xt},detailPane:Lt});case"MOUSE_ENTER_VIS_PANE_LABEL":var Dt=a.nodeID;return Object(u.a)(Object(u.a)({},e),{},{hover:{object:"NODE",data:{nodeID:Dt}}});case"MOUSE_LEAVE_VIS_PANE_LABEL":return Object(u.a)(Object(u.a)({},e),{},{hover:{object:null,data:null}});case"MOUSE_MOVE_VIS_PANE_LINK":var St=a.top,Tt=a.left,It=a.sourceID,kt=a.targetID,_t=a.linkType,At=a.linkRowList,wt=a.tooltipAttrList,Ct=a.eventName;return Object(u.a)(Object(u.a)({},e),{},{hover:{object:"LINK",data:{top:St,left:Tt,sourceID:It,targetID:kt,linkType:_t,linkRowList:At,tooltipAttrList:wt,eventName:Ct}}});case"MOUSE_LEAVE_VIS_PANE_LINK":return Object(u.a)(Object(u.a)({},e),{},{hover:{object:null,data:null}});case"CLICK_VIS_PANE_LINK":var Rt=a.sourceID,Pt=a.targetID,Mt=a.linkRowList,Yt=a.dataTableAttrList,Ut=a.eventName;return Object(u.a)(Object(u.a)({},e),{},{focus:{object:"LINK",data:{sourceID:Rt,targetID:Pt,linkRowList:Mt,dataTableAttrList:Yt,eventName:Ut}},hover:{object:null,data:null}});case"CLOSE_POP_UP_WINDOW":return Object(u.a)(Object(u.a)({},e),{},{focus:{object:null,data:null}});case"MOUSE_ENTER_CONTROL_BUTTON":var Bt=a.buttonEl,Ft=a.text,Vt=Bt.getBoundingClientRect(),zt=Vt.left-8+Vt.width,Wt=Vt.top-8+Vt.height+8;return Object(u.a)(Object(u.a)({},e),{},{hover:{object:"CONTROL_BUTTON",data:{left:zt,top:Wt,text:Ft}}});case"MOUSE_LEAVE_CONTROL_BUTTON":return Object(u.a)(Object(u.a)({},e),{},{hover:{object:null,data:null}});case"OPEN_COLOR_PICKER":var Kt=a.linkKey,Ht=a.currColor,Gt=a.colorEl.getBoundingClientRect(),Xt=Gt.top,qt=Gt.left,Qt=Gt.width,$t=Gt.height;return Object(u.a)(Object(u.a)({},e),{},{colorPicker:{isOpen:!0,linkKey:Kt,currColor:Ht,colorTop:Xt-8,colorLeft:qt-8,colorWidth:Qt,colorHeight:$t}});case"CLOSE_COLOR_PICKER":return Object(u.a)(Object(u.a)({},e),{},{colorPicker:{isOpen:!1,linkKey:null,currColor:null,colorTop:null,colorLeft:null,colorWidth:null,colorHeight:null}});case"SELECT_COLOR":var Jt=a.linkKey,Zt=a.newColor,ea=e.linkPane.list,ta=e.sourcePane.list,aa=e.targetPane.list,na=e.timelineSlider,ra=function(e,t,a){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{color:e.key!==t?e.color:a})}))}(ea,Jt,Zt),ia=$(ra,ta,aa,na);return Object(u.a)(Object(u.a)({},e),{},{linkPane:{list:ra},visualizationPane:{list:ia},colorPicker:{isOpen:!1,linkKey:null,currColor:null,colorTop:null,colorLeft:null,colorWidth:null,colorHeight:null}});case"TOGGLE_DETAIL_PANE":var ca=t.timeSeriesDataList,la=e.visualizationPane.list,sa=e.detailPane.isOpen,oa=ne(ca,la,Object(u.a)(Object(u.a)({},e.detailPane),{},{isOpen:!sa}));return Object(u.a)(Object(u.a)({},e),{},{detailPane:oa,hover:{object:null,data:null}});case"MOUSE_ENTER_DETAIL_PANE_BUTTON":var ua=a.buttonEl.getBoundingClientRect(),da=ua.top-8+ua.height+8;return Object(u.a)(Object(u.a)({},e),{},{hover:{object:"DETAIL_PANE_BUTTON",data:{right:0,top:da,text:"Show details of current network"}}});case"MOUSE_LEAVE_DETAIL_PANE_BUTTON":return Object(u.a)(Object(u.a)({},e),{},{hover:{object:null,data:null}});case"SELECT_DETAIL_PANE_MAIN_OPTION":var ba=a.option,ja=t.timeSeriesDataList,fa=e.visualizationPane.list,Oa=J(fa),ha=Z(fa),pa=ee(ba),ma=te(ja,ba,Oa),va=ma[0],ga=ae(ja,ba,ha),ya=pa?ga[0]:ga[ga.length-1];return Object(u.a)(Object(u.a)({},e),{},{detailPane:Object(u.a)(Object(u.a)({},e.detailPane),{},{mainOption:ba,subOption1:va,subOption1List:ma,subOption2:ya,subOption2List:ga})});case"SELECT_DETAIL_PANE_SUB_OPTION":var Na=a.key,Ea=a.option;return Object(u.a)(Object(u.a)({},e),{},{detailPane:Object(u.a)(Object(u.a)({},e.detailPane),{},Object(_.a)({},Na,Ea))});case"MOUSE_ENTER_DETAIL_PANE_ITEM":var xa=a.itemEl,La=a.titleEl,Da=a.titleText,Sa=a.itemData,Ta="nodeID"in Sa?"DETAIL_PANE_NODE":"DETAIL_PANE_LINK",Ia=Object(u.a)(Object(u.a)({},Sa),{},{showTooltip:!1});if(function(e){var t=e.clientWidth,a=e.clientHeight,n=e.scrollWidth;return e.scrollHeight>a||n>t}(La)){var ka=xa.getBoundingClientRect(),_a=ka.top-8+ka.height/2;Ia.showTooltip=!0,Ia.right=255,Ia.top=_a,Ia.text=Da}return Object(u.a)(Object(u.a)({},e),{},{hover:{object:Ta,data:Ia}});case"MOUSE_LEAVE_DETAIL_PANE_ITEM":return Object(u.a)(Object(u.a)({},e),{},{hover:{object:null,data:null}});case"CLICK_DETAIL_PANE_DETAIL_BUTTON":var Aa=a.mainOption,wa=a.subOption1,Ca=a.subOption2,Ra=a.entryList,Pa=ee(Aa),Ma=Pa?"BAR_LIST":"SPARK_LINE_LIST",Ya={headerText:Pa?"".concat(Aa," (").concat(wa," + ").concat(Ca,")"):Aa,entryList:Ra};return Object(u.a)(Object(u.a)({},e),{},{focus:{object:Ma,data:Ya}});case"OPEN_SEARCH_WINDOW":return Object(u.a)(Object(u.a)({},e),{},{searchWindow:{isOpen:!0},hover:{object:null,data:null}});case"CLOSE_SEARCH_WINDOW":return Object(u.a)(Object(u.a)({},e),{},{searchWindow:{isOpen:!1}});case"MOUSE_ENTER_SEARCH_WINDOW_BUTTON":var Ua=a.buttonEl,Ba=Ua.getBoundingClientRect(),Fa=Ua.style.right,Va=Ba.top-8+Ba.height+8;return Object(u.a)(Object(u.a)({},e),{},{hover:{object:"SEARCH_WINDOW_BUTTON",data:{right:Fa,top:Va,text:"Open search window"}}});case"MOUSE_LEAVE_SEARCH_WINDOW_BUTTON":return Object(u.a)(Object(u.a)({},e),{},{hover:{object:null,data:null}});case"OPEN_LINK_DISAGGREGATOR":return Object(u.a)(Object(u.a)({},e),{},{linkDisaggregator:{isOpen:!0},hover:{object:null,data:null}});case"CLOSE_LINK_DISAGGREGATOR":return Object(u.a)(Object(u.a)({},e),{},{linkDisaggregator:{isOpen:!1}});case"CONFIRM_LINK_DISAGGREGATION":var za=a.linkKey,Wa=a.optionList,Ka=t.countryIDToData,Ha=e.linkPane.list,Ga=K(Ha,za,Wa,Ka);return Object(u.a)(Object(u.a)({},e),{},{linkPane:{list:Ga},linkDisaggregator:{isOpen:!1}});case"CLEAR_DISAGGREGATED_LINKS":var Xa=t.timeSeriesDataList,qa=e.linkPane.list,Qa=e.sourcePane.list,$a=e.targetPane.list,Ja=e.detailPane,Za=qa.filter((function(e){var t=e.isSubItem,a=e.canDelete;return!(t&&a)})),en=V(Za,Qa),tn=z(Za,$a),an=X(Za),nn=$(Za,en,tn,an),rn=ne(Xa,nn,Ja);return Object(u.a)(Object(u.a)({},e),{},{linkPane:{list:Za},sourcePane:{list:en},targetPane:{list:tn},timelineSlider:an,visualizationPane:{list:nn},detailPane:rn});default:throw new Error("Unhandled action type: ".concat(a.type))}},ce=a(10),le=a.n(ce),se=a(39),oe=(a(320),a(1)),ue=function(e){var t=e.isSelected,a=e.isSubItem,n=e.canDelete,r=e.displayName,i=e.handleSelect,c=e.handleMouseEnter,l=e.handleMouseLeave,s=e.handleRemove,o="item";return a&&(o="sub ".concat(o)),n&&(o="deletable ".concat(o)),Object(oe.jsxs)("div",{className:o,children:[Object(oe.jsxs)("label",{onMouseEnter:c,onMouseLeave:l,children:[Object(oe.jsx)("input",{type:"checkbox",checked:t,onChange:i}),Object(oe.jsx)("span",{className:"checkmark"}),Object(oe.jsx)("span",{className:"text",children:r})]}),n?Object(oe.jsx)("div",{className:"remove-button",onClick:s,children:Object(oe.jsx)(se.a,{})}):null]})},de=a(23),be=(a(322),function(e){var t=e.id,a=e.headerText,n=e.headerIcon,r=e.itemList,i=e.handleSelectItem,c=e.handleClickSelectNone,l=e.handleClickSelectAll,s=e.handleMouseEnterItem,o=e.handleMouseLeaveItem,u=e.handleClickRemoveButton;return Object(oe.jsxs)("div",{className:"data-selection-pane",id:t,children:[Object(oe.jsxs)("div",{className:"header",children:[n,Object(oe.jsx)("span",{className:"text",children:a})]}),Object(oe.jsx)("div",{className:"content",children:r.filter((function(e){return e.isShown})).map((function(e){return Object(oe.jsx)(ue,{isSelected:e.isSelected,isSubItem:e.isSubItem,canDelete:e.canDelete,displayName:e.displayName,handleSelect:function(){i(e.key)},handleMouseEnter:s,handleMouseLeave:o,handleRemove:function(){u(e.key)}},e.key)}))}),Object(oe.jsxs)("div",{className:"footer",children:[Object(oe.jsxs)("span",{className:"select-none button",onClick:c,children:[Object(oe.jsx)(de.d,{}),Object(oe.jsx)("span",{className:"text",children:"Select None"})]}),Object(oe.jsxs)("span",{className:"select-all button",onClick:l,children:[Object(oe.jsx)(de.c,{}),Object(oe.jsx)("span",{className:"text",children:"Select All"})]})]})]})}),je=a(21),fe=Object(n.memo)((function(e){var t=e.linkPaneList,a=e.sourcePaneList,n=e.targetPaneList,r=e.dispatch,i=function(e){return r({type:"SELECT_LINK_PANE_ITEMS",isSelected:e})},c=function(e){return r({type:"SELECT_SOURCE_PANE_ITEMS",isSelected:e})},l=function(e){return r({type:"SELECT_TARGET_PANE_ITEMS",isSelected:e})},s=function(e){var t=le()(e.target).closest(".item").find(".text")[0];(function(e){var t=e.clientWidth,a=e.clientHeight,n=e.scrollWidth;return e.scrollHeight>a||n>t})(t)&&r({type:"MOUSE_ENTER_DATA_SELECTION_PANE_ITEM",textEl:t})},o=function(){return r({type:"MOUSE_LEAVE_DATA_SELECTION_PANE_ITEM"})};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(be,{id:"link-pane",headerIcon:Object(oe.jsx)(je.c,{}),headerText:"Links",itemList:t,handleSelectItem:function(e){return r({type:"SELECT_LINK_PANE_ITEM",linkKey:e})},handleClickSelectNone:function(){i(!1)},handleClickSelectAll:function(){i(!0)},handleMouseEnterItem:s,handleMouseLeaveItem:o,handleClickRemoveButton:function(e){return r({type:"REMOVE_LINK_PANE_ITEM",linkKey:e})}}),Object(oe.jsx)(be,{id:"source-pane",headerIcon:Object(oe.jsx)(se.d,{}),headerText:"Sources",itemList:a,handleSelectItem:function(e){return r({type:"SELECT_SOURCE_PANE_ITEM",sourceKey:e})},handleClickSelectNone:function(){c(!1)},handleClickSelectAll:function(){c(!0)},handleMouseEnterItem:s,handleMouseLeaveItem:o,handleClickRemoveButton:function(){}}),Object(oe.jsx)(be,{id:"target-pane",headerIcon:Object(oe.jsx)(se.c,{}),headerText:"Targets",itemList:n,handleSelectItem:function(e){return r({type:"SELECT_TARGET_PANE_ITEM",targetKey:e})},handleClickSelectNone:function(){l(!1)},handleClickSelectAll:function(){l(!0)},handleMouseEnterItem:s,handleMouseLeaveItem:o,handleClickRemoveButton:function(){}})]})})),Oe=30,he=-51,pe=60,me=10,ve=(a(323),Object(n.memo)((function(e){var t=e.linkPaneList,a=e.dispatch,n=t.filter((function(e){return e.isSelected})),r=n.length>0;return Object(oe.jsxs)("div",{className:"visualization-pane-legend",children:[n.map((function(e){var t=e.key,n=e.color,r=e.displayName,i=e.isSubItem,c=e.parentLinkDataObject;return Object(oe.jsxs)("div",{className:"color legend-item",onClick:function(e){!function(e,t,n){a({type:"OPEN_COLOR_PICKER",linkKey:t,currColor:n,colorEl:le()(e.target).closest(".legend-item").find("span.color")[0]})}(e,t,n)},children:[Object(oe.jsx)("span",{className:"color",style:{background:n,color:n}}),Object(oe.jsx)("span",{className:"label",children:i?"".concat(c.displayName," (").concat(r,")"):r})]},t)})),r?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"seperator"}),Object(oe.jsxs)("div",{className:"legend-item",children:[Object(oe.jsxs)("span",{className:"link-type non-outlier",children:[Object(oe.jsx)("span",{className:"thick-link"}),Object(oe.jsx)("span",{className:"thin-link"})]}),Object(oe.jsx)("span",{className:"label",children:"Count \u2264 90th percentile"})]}),Object(oe.jsxs)("div",{className:"legend-item",children:[Object(oe.jsxs)("span",{className:"link-type outlier",children:[Object(oe.jsx)("span",{className:"thick-link"}),Object(oe.jsx)("span",{className:"thin-link"})]}),Object(oe.jsx)("span",{className:"label",children:"Count > 90th percentile"})]})]}):null]})}))),ge=(a(324),Object(n.memo)((function(e){var t=e.SVGRef,a=e.landData,n=e.projectionState,r=e.dispatch,i=function(e){return r({type:"MOUSE_ENTER_CONTROL_BUTTON",buttonEl:le()(e.target).closest(".button")[0],text:le()(e.target).closest(".button").attr("tooltip-text")})},c=function(){return r({type:"MOUSE_LEAVE_CONTROL_BUTTON"})};return Object(oe.jsxs)("div",{className:"controls",children:[Object(oe.jsx)("div",{className:"zoomin-btn button","tooltip-text":"Zoom in",onClick:function(){var e=n.zoomHandler,a=t.current,r=Object(j.l)(a).transition().duration(400);e.scaleBy(r,2)},onMouseEnter:i,onMouseLeave:c,children:Object(oe.jsx)(je.f,{})}),Object(oe.jsx)("div",{className:"zoomout-btn button","tooltip-text":"Zoom out",onClick:function(){var e=n.zoomHandler,a=t.current,r=Object(j.l)(a).transition().duration(400);e.scaleBy(r,.5)},onMouseEnter:i,onMouseLeave:c,children:Object(oe.jsx)(je.g,{})}),Object(oe.jsx)("div",{className:"reset-btn button","tooltip-text":"Reset zoom and pan",onClick:function(){var e=n.zoomHandler,r=t.current,i=Object(j.l)(r).transition().duration(400),c=r.getBoundingClientRect(),l=c.width,s=c.height,o=Object(j.f)().fitExtent([[he,Oe],[l-me,s-pe]],a),u=o.scale(),d=o.translate();e.scaleExtent([.8*u,10*u]),i.call(e.transform,j.n.translate.apply(j.n,Object(N.a)(d)).scale(u))},onMouseEnter:i,onMouseLeave:c,children:Object(oe.jsx)(je.a,{})})]})}),(function(e,t){var a=e.SVGRef,n=e.landData,r=e.projectionState.zoomHandler,i=t.SVGRef,c=t.landData,l=t.projectionState.zoomHandler;return a===i&&n===c&&r===l}))),ye=(a(325),Object(n.memo)((function(e){var t=e.linkPaneList;return Object(oe.jsxs)("defs",{children:[t.filter((function(e){return e.isDirected})).map((function(e){var t=e.linkType,a=e.color;return Object(oe.jsx)("marker",{id:"arrow-end-".concat(t),refX:"5",refY:"3.5",markerWidth:"10",markerHeight:"10",markerUnits:"userSpaceOnUse",orient:"auto",children:Object(oe.jsx)("path",{d:"M 0 0 7 3.5 0 7",style:{fill:a}})},t)})),Object(oe.jsx)("marker",{id:"arrow-end-outlier",refX:"5",refY:"3.5",markerWidth:"10",markerHeight:"10",markerUnits:"userSpaceOnUse",orient:"auto",children:Object(oe.jsx)("path",{d:"M 0 0 7 3.5 0 7"})})]})}))),Ne=(a(326),Object(n.memo)((function(e){var t=e.landData,a=e.interiorData,n=e.projectionState.path;return Object(oe.jsxs)("g",{className:"map",children:[t.features.map((function(e){return Object(oe.jsx)("path",{className:"land",d:n(e)},"land")})),Object(oe.jsx)("path",{className:"interiors",d:n(a)})]})}))),Ee=function(e,t){var a=Object(o.a)(e,2),n=a[0],r=a[1],i=Object(o.a)(t,2),c=n-i[0],l=r-i[1];return c>0&&0===l?0:c>0&&l>0?Math.atan(l/c):c<0&&l>0?Math.PI/2-Math.atan(l/-c)+Math.PI/2:0===c&&l>0?Math.PI/2:c<0&&l<0?Math.atan(-l/-c)+Math.PI:c<0&&0===l?Math.PI:c>0&&l<0?Math.PI/2-Math.atan(-l/c)+Math.PI/2*3:0===c&&l<0?Math.PI/2*3:void 0},xe={targetRadius:15,selfLoopRadius:20,selfLoopRadiusIncrement:3,arcDivisor:1.5,arcRadiusIncrement:15,generatePathData:function(e,t,a){return e[0]===t[0]&&e[1]===t[1]?this.generateSelfLoop(e,a):this.generateArc(e,t,a)},generateArc:function(e,t,a){var n=this,r=n.arcDivisor,i=n.arcRadiusIncrement,c=function(e,t){var a=Object(o.a)(e,2),n=a[0],r=a[1],i=Object(o.a)(t,2),c=i[0],l=i[1];return Math.sqrt((n-c)*(n-c)+(r-l)*(r-l))}(e,t),l=c/r+i*a,s=n.targetRadius>=c?c/2:n.targetRadius,u=function(e,t,a){var n=Object(o.a)(e,2),r=n[0],i=n[1],c=Object(o.a)(t,2),l=(c[0]-r)/2,s=(c[1]-i)/2,u=r+l,d=i+s,b=Math.sqrt(l*l+s*s),j=Math.sqrt(a*a-b*b);return[u+j*s/b,d-j*l/b]}(e,t,l),d=function(e,t){var a=Object(o.a)(e,3),n=a[0],r=a[1],i=a[2],c=Object(o.a)(t,3),l=c[0],s=c[1],u=c[2],d=Math.sqrt((l-n)*(l-n)+(s-r)*(s-r)),b=.25*Math.sqrt((d+i+u)*(d+i-u)*(d-i+u)*(-d+i+u)),j=i*i-u*u,f=d*d;return[[(n+l)/2+(l-n)*j/(2*f)+2*(r-s)*b/f,(r+s)/2+(s-r)*j/(2*f)-2*(n-l)*b/f],[(n+l)/2+(l-n)*j/(2*f)-2*(r-s)*b/f,(r+s)/2+(s-r)*j/(2*f)+2*(n-l)*b/f]]}([].concat(Object(N.a)(u),[l]),[].concat(Object(N.a)(t),[s])),b=Object(o.a)(d,2),j=b[0],f=b[1],O=Ee(e,u),h=Ee(t,u),p=Ee(j,u),m=p>=O&&p<=h||p>=h&&p<=O,v=O<Math.PI&&h>Math.PI?m?f:j:m?j:f;return"M ".concat(e[0]," ").concat(e[1]," ")+"A ".concat(l," ").concat(l," 0 0 0 ").concat(v[0]," ").concat(v[1])},generateSelfLoop:function(e,t){var a=this.selfLoopRadiusIncrement,n=this.selfLoopRadius+a*t,r=[e[0]+n,e[1]],i=Math.PI+2*Math.PI-Math.PI/8,c=[n*Math.cos(i)+r[0],n*Math.sin(i)+r[1]];return"M ".concat(e[0]," ").concat(e[1]," ")+"A ".concat(n," ").concat(n," 0 1 0 ").concat(c[0]," ").concat(c[1])}},Le={selfLoopRadius:20,distanceIncrement:10,radiusIncrement:3,generatePathData:function(e,t,a){var n=this;return e[0]===t[0]&&e[1]===t[1]?n.generateSelfLoop(e,a):-1===a?n.generateStraightLine(e,t):n.generateCurve(e,t,a)},generateStraightLine:function(e,t){return"M ".concat(e[0]," ").concat(e[1]," ")+"L ".concat(t[0]," ").concat(t[1])},generateCurve:function(e,t,a){var n=this.distanceIncrement,r=Object(j.i)().curve(j.c),i=function(e,t){var a=Object(o.a)(e,2),n=a[0],r=a[1],i=Object(o.a)(t,2);return[(n+i[0])/2,(r+i[1])/2]}(e,t),c=e[0]===t[0],l=e[1]===t[1],s=null;c||l?c?s=[1,0]:l&&(s=[0,1]):s=function(e){var t=Math.sqrt(1/(1+e*e)),a=e*t;return t>=0?[t,a]:[-t,-a]}(-1/function(e,t){var a=Object(o.a)(e,2),n=a[0],r=a[1],i=Object(o.a)(t,2),c=i[0];return(r-i[1])/(n-c)}(e,t));return r([e,[i[0]+s[0]*n*a,i[1]+s[1]*n*a],t])},generateSelfLoop:function(e,t){var a=this.radiusIncrement,n=this.selfLoopRadius+a*t;return"M ".concat(e[0]," ").concat(e[1]," ")+"A ".concat(n," ").concat(n," 0 1 0 ").concat(e[0]-2*n," ").concat(e[1]," ")+"A ".concat(n," ").concat(n," 0 1 0 ").concat(e[0]," ").concat(e[1])}},De=(a(327),Object(n.memo)((function(e){var t=e.sourceID,a=e.targetID,n=e.linkType,r=e.color,i=e.isHighlighted,c=e.isOutlier,l=e.markerEnd,s=e.pathData,o=e.linkRowList,u=e.tooltipAttrList,d=e.dataTableAttrList,b=e.eventName,j=e.dispatch;return Object(oe.jsxs)("g",{className:"link",onMouseMove:function(e){return j({type:"MOUSE_MOVE_VIS_PANE_LINK",top:e.clientY,left:e.clientX,sourceID:t,targetID:a,linkType:n,linkRowList:o,tooltipAttrList:u,eventName:b})},onMouseLeave:function(){return j({type:"MOUSE_LEAVE_VIS_PANE_LINK"})},onClick:function(){return j({type:"CLICK_VIS_PANE_LINK",sourceID:t,targetID:a,linkRowList:o,dataTableAttrList:d,eventName:b})},style:i?{opacity:1}:{opacity:.05},children:[Object(oe.jsx)("path",{className:"thick-line",d:s,style:c?{stroke:r,opacity:.6}:{stroke:r,opacity:.1}}),Object(oe.jsx)("path",{className:"thin-line",d:s,markerEnd:l,style:c?null:{stroke:r,opacity:.5}})]})}))),Se=function(e,t){var a=e.sourceID,n=e.targetID,r=e.linkType,i=e.isDirected,c=!0;return"NODE"===t.object||"DETAIL_PANE_NODE"===t.object?c=a===t.data.nodeID||n===t.data.nodeID:"LINK"===t.object?c=a===t.data.sourceID&&n===t.data.targetID&&r===t.data.linkType:"DETAIL_PANE_LINK"===t.object&&i?c=a===t.data.sourceID&&n===t.data.targetID:"DETAIL_PANE_LINK"!==t.object||i||(c=a===t.data.sourceID&&n===t.data.targetID||a===t.data.targetID&&n===t.data.sourceID),c},Te=function(e,t,a){var n=e.sourceID,r=e.targetID,i=e.isDirected,c=e.index,l=a([t[n].longitude,t[n].latitude]),s=a([t[r].longitude,t[r].latitude]);return i?xe.generatePathData(l,s,c):Le.generatePathData(l,s,c)},Ie=function(e){var t=e.isDirected,a=e.isOutlier,n=e.linkType;if(t){if(a)return"url(#arrow-end-outlier)";if(!a)return"url(#arrow-end-"+n+")"}return null},ke=function(e,t,a,n){!function(e){var t,a={sameSourceAndTarget:[],directed:[],undirected:[]},n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.sourceID,c=r.targetID,l=r.isDirected,s="".concat(i,"-").concat(c);i===c?(s in a.sameSourceAndTarget||(a.sameSourceAndTarget[s]=[]),a.sameSourceAndTarget[s].push(r)):l?l&&(s in a.directed||(a.directed[s]=[]),a.directed[s].push(r)):(s in a.undirected||(a.undirected[s]=[]),a.undirected[s].push(r))}}catch(f){n.e(f)}finally{n.f()}for(var o in a)for(var u in a[o]){for(var b=a[o][u],j=0;j<b.length;j++)b[j].index=j;1===b.length&&"undirected"===o&&(b[0].index=-1)}}(e);var r,i=Object(d.a)(e);try{for(i.s();!(r=i.n()).done;){var c=r.value,l=c.sourceID,s=c.targetID,o=c.linkType;c.key="".concat(l,"-").concat(s,"-").concat(o),c.isHighlighted=Se(c,n),c.pathData=Te(c,t,a),c.markerEnd=Ie(c)}}catch(u){i.e(u)}finally{i.f()}return e},_e=function(e){var t=e.visualizationPaneList,a=e.countryIDToData,n=e.projectionState,r=e.hoverState,i=e.dispatch,c=n.projection,l=ke(t,a,c,r);return Object(oe.jsx)("g",{className:"links",children:l.map((function(e){return Object(oe.jsx)(De,{sourceID:e.sourceID,targetID:e.targetID,linkType:e.linkType,color:e.color,isHighlighted:e.isHighlighted,isOutlier:e.isOutlier,markerEnd:e.markerEnd,pathData:e.pathData,linkRowList:e.linkRowList,tooltipAttrList:e.tooltip.attributeList,dataTableAttrList:e.dataTable.attributeList,eventName:e.eventName,dispatch:i},e.key)}))})},Ae=(a(328),Object(n.memo)((function(e){var t=e.ID,a=e.x,n=e.y,r=e.displayName,i=e.isHighlighted,c=e.dispatch;return Object(oe.jsxs)("g",{className:"label",onMouseEnter:function(){return c({type:"MOUSE_ENTER_VIS_PANE_LABEL",nodeID:t})},onMouseLeave:function(){return c({type:"MOUSE_LEAVE_VIS_PANE_LABEL"})},style:{opacity:i?1:.1},children:[Object(oe.jsx)("text",{className:"background",x:a,y:n,children:r}),Object(oe.jsx)("text",{className:"text",x:a,y:n,children:r})]})}))),we=function(e){var t=e.visualizationPaneList,a=e.countryIDToData,n=e.projectionState,r=e.hoverState,i=e.dispatch,c=n.projection,l=function(e,t){var a,n=new Set,r=new Set,i=Object(d.a)(e);try{for(i.s();!(a=i.n()).done;){var c=a.value,l=c.sourceID,s=c.targetID,o=Se(c,t);n.add(l),n.add(s),o&&(r.add(l),r.add(s))}}catch(u){i.e(u)}finally{i.f()}return[n,r]}(t,r),s=Object(o.a)(l,2),u=function(e,t,a,n){var r,i=[],c=Object(d.a)(e);try{for(c.s();!(r=c.n()).done;){var l=r.value,s=n[l].displayName,u=t.has(l),b=a([n[l].longitude,n[l].latitude]),j=Object(o.a)(b,2),f=j[0],O=j[1];i.push({key:l,ID:l,x:f,y:O,displayName:s,isHighlighted:u})}}catch(h){c.e(h)}finally{c.f()}return i}(s[0],s[1],c,a);return Object(oe.jsx)("g",{className:"labels",children:u.map((function(e){return Object(oe.jsx)(Ae,{ID:e.ID,x:e.x,y:e.y,displayName:e.displayName,isHighlighted:e.isHighlighted,dispatch:i},e.key)}))})},Ce=a(11),Re=a(502),Pe=a(505),Me=a(501),Ye=a(503),Ue=a(504),Be=function(e){var t=e.children,a=e.value,n=e.className,r={fontSize:16,fontWeight:300,fontFamily:"Quicksand",marginBottom:50,color:e.disabled?null:"#3d3d3d"};return Object(oe.jsx)("span",Object(u.a)(Object(u.a)({},t.props),{},{children:Object(oe.jsx)("span",{className:n,style:r,children:a})}))},Fe=(a(329),Object(Ce.a)({root:{top:"50%",left:"50%",width:"calc(100% - 80px)",display:"flex",alignItems:"center",position:"absolute",transform:"translate(-50%, -50%)",pointerEvents:"auto"},rail:{height:4,opacity:1,backgroundColor:"#ebebeb"},track:{height:4,backgroundColor:"lightgray"},mark:{width:4,height:4,color:"#ebebeb",transform:"translateX(-50%)",borderRadius:"50%"},markLabel:{color:"gray",opacity:.7,fontWeight:300,fontFamily:"Quicksand"},thumb:{marginTop:0,marginLeft:0,transform:"translateX(-50%)",boxShadow:"0 0 6px 1px #b8b8b8",background:"white","&:hover":{boxShadow:"0 0 6px 3px #b8b8b8"},"&.MuiSlider-active":{boxShadow:"0 0 6px 3px #b8b8b8"},"&.Mui-focusVisible":{boxShadow:"0 0 6px 3px #b8b8b8"},"&.Mui-disabled":{width:12,height:12,marginTop:0,marginLeft:0}}})(Pe.a)),Ve=Object(Ce.a)({root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,calc(-50% + 22px))",pointerEvents:"auto",fontFamily:"Quicksand",fontSize:"0.875rem",fontWeight:300,color:"gray",opacity:.7,transition:"color 0.3s","&:hover":{color:"black"}}})(Me.a),ze=Object(Ce.a)({root:{"&:focus":{backgroundColor:"transparent"},"&.MuiSelect-select":{paddingRight:0}},icon:{color:"currentColor",position:"static",fontSize:"1rem"}})(Ye.a),We=Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:300,fontSize:13}})(Ue.a),Ke=Object(Re.a)({paper:{borderRadius:2,boxShadow:"0px 0px 6px 2px rgba(211,211,211,1)"}}),He=Object(n.memo)((function(e){var t=e.timelineSliderState,a=e.dispatch,n=Ke();return Object(oe.jsxs)("div",{className:"timeline-slider-container",children:[Object(oe.jsx)(Fe,{min:t.min,max:t.max,value:t.value,step:1,valueLabelDisplay:"on",onChange:function(e,t){return a({type:"CHANGE_TIMELINE_SLIDER",value:t})},ValueLabelComponent:Be,track:"range"===t.yearAttribute.type&&"normal",disabled:"no-filter"===t.yearAttribute.type,marks:[{value:t.min,label:t.min},{value:t.max,label:t.max}]}),Object(oe.jsx)(ze,{value:t.yearAttribute,onChange:function(e){return a({type:"SELECT_YEAR_ATTRIBUTE",yearAttribute:e.target.value})},input:Object(oe.jsx)(Ve,{disableUnderline:!0}),MenuProps:{classes:{paper:n.paper}},children:t.yearAttributeList.map((function(e){return Object(oe.jsx)(We,{value:e,children:e.displayName},e.key)}))})]})})),Ge=(a(333),function(e){var t=e.isLoading;return void 0===t||t?Object(oe.jsxs)("div",{className:"loader",children:[Object(oe.jsx)("div",{className:"background"}),Object(oe.jsx)("div",{className:"loader-container",children:Object(oe.jsxs)("div",{className:"lds-ellipsis",children:[Object(oe.jsx)("div",{}),Object(oe.jsx)("div",{}),Object(oe.jsx)("div",{}),Object(oe.jsx)("div",{})]})})]}):null}),Xe=(a(334),Object(n.memo)((function(e){var t=e.landData,a=e.interiorData,r=e.countryIDToData,i=e.linkPaneList,c=e.visualizationPaneList,l=e.timelineSliderState,s=e.hoverState,d=e.detailPaneIsOpen,b=e.dispatch,f=Object(n.useRef)(null),O=function(e,t){var a=Object(n.useState)({projection:null,path:null,zoomHandler:null,isLoading:!0}),r=Object(o.a)(a,2),i=r[0],c=r[1];return Object(n.useEffect)((function(){if(null!==e.current&&null!==t){var a=e.current,n=a.getBoundingClientRect(),r=n.width,i=n.height,l=Object(j.f)().fitExtent([[he,Oe],[r-me,i-pe]],t),s=Object(j.g)(l),o=l.scale(),d=l.translate(),b=Object(j.m)().scaleExtent([.8*o,10*o]);return b.on("zoom",(function(e){var t=e.transform.k,a=[e.transform.x,e.transform.y];c((function(e){return e.projection?e.projection?(e.projection.translate(a).scale(t),Object(u.a)({},e)):void 0:{projection:l,path:s,zoomHandler:b,isLoading:!1}}))})),Object(j.l)(a).call(b).call(b.transform,j.n.translate.apply(j.n,Object(N.a)(d)).scale(o)),function(){Object(j.l)(a).on(".zoom",null)}}}),[e,t]),i}(f,t);return Object(oe.jsxs)("div",{id:"visualization-pane",className:d?"collapsed loader-installed":"expanded loader-installed",children:[Object(oe.jsx)(ve,{linkPaneList:i,dispatch:b}),Object(oe.jsx)(ge,{SVGRef:f,landData:t,projectionState:O,dispatch:b}),Object(oe.jsx)("svg",{ref:f,children:O.isLoading?null:Object(oe.jsxs)(oe.Fragment,{children:[" ",Object(oe.jsx)(ye,{linkPaneList:i}),Object(oe.jsx)(Ne,{landData:t,interiorData:a,projectionState:O}),Object(oe.jsx)(_e,{visualizationPaneList:c,countryIDToData:r,projectionState:O,hoverState:s,dispatch:b}),Object(oe.jsx)(we,{visualizationPaneList:c,countryIDToData:r,projectionState:O,hoverState:s,dispatch:b})]})}),Object(oe.jsx)(He,{timelineSliderState:l,dispatch:b}),Object(oe.jsx)(Ge,{isLoading:O.isLoading})]})}),(function(e,t){return e.landData===t.landData&&e.interiorData===t.interiorData&&e.countryIDToData===t.countryIDToData&&e.linkPaneList===t.linkPaneList&&e.visualizationPaneList===t.visualizationPaneList&&e.timelineSliderState===t.timelineSliderState&&e.detailPaneIsOpen===t.detailPaneIsOpen&&e.dispatch===t.dispatch&&!("LINK"===e.hoverState.object||"LINK"===t.hoverState.object||"NODE"===e.hoverState.object||"NODE"===t.hoverState.object||"DETAIL_PANE_NODE"===e.hoverState.object||"DETAIL_PANE_NODE"===t.hoverState.object||"DETAIL_PANE_LINK"===e.hoverState.object||"DETAIL_PANE_LINK"===t.hoverState.object)}))),qe=Object(Ce.a)({root:{width:"100%",color:"#d3d3d3",fontFamily:"Quicksand",fontSize:20,"&:not(.Mui-disabled):hover::before":{borderBottom:"2px solid rgba(211, 211, 211, 0.6)"}},underline:{"&:before":{borderBottom:"1px solid rgba(211, 211, 211, 0.6)"},"&:after":{borderBottom:"2px solid rgba(168, 168, 168, 1)"}}})(Me.a),Qe=Object(Ce.a)({icon:{color:"#d3d3d3"}})(Ye.a),$e=Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:300,fontSize:13,"&.Mui-selected":{backgroundColor:"rgba(255, 255, 255, 0.15)"},"&.Mui-selected:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)"}}})(Ue.a),Je=Object(Re.a)({paper:{borderRadius:2,boxShadow:"0px 0px 6px 2px rgba(211,211,211,1)",color:"#d3d3d3",background:"#2d3138","&::-webkit-scrollbar":{width:10,height:10,borderRadius:2,background:"#2d3138"},"&::-webkit-scrollbar-track":{borderRadius:2,background:"#2d3138"},"&::-webkit-scrollbar-thumb":{borderRadius:2,background:"rgb(0, 0, 0)"}}}),Ze=function(e){var t=e.mainOption,a=e.mainOptionList,n=e.dispatch,r=Je();return Object(oe.jsx)(Qe,{value:t,onChange:function(e){return n({type:"SELECT_DETAIL_PANE_MAIN_OPTION",option:e.target.value})},input:Object(oe.jsx)(qe,{}),MenuProps:{classes:{paper:r.paper}},children:a.map((function(e){return Object(oe.jsx)($e,{value:e,children:e},e)}))})},et=(a(335),Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:600,fontSize:12,color:"#d3d3d3","&:not(.Mui-disabled):hover::before":{borderBottom:"2px solid rgba(211, 211, 211, 0.6)"}},underline:{"&:before":{borderBottom:"1px solid rgba(211, 211, 211, 0.6)"},"&:after":{borderBottom:"2px solid rgba(168, 168, 168, 1)"}}})(Me.a)),tt=Object(Ce.a)({root:{padding:0,"&.MuiSelect-select":{paddingRight:0}},icon:{display:"none"}})(Ye.a),at=Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:300,fontSize:12,"&.Mui-selected":{backgroundColor:"rgba(255, 255, 255, 0.15)"},"&.Mui-selected:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)"}}})(Ue.a),nt=Object(Re.a)({paper:{borderRadius:2,boxShadow:"0px 0px 6px 2px rgba(211,211,211,1)",color:"#d3d3d3",background:"#2d3138","&::-webkit-scrollbar":{width:10,height:10,borderRadius:2,background:"#2d3138"},"&::-webkit-scrollbar-track":{borderRadius:2,background:"#2d3138"},"&::-webkit-scrollbar-thumb":{borderRadius:2,background:"rgb(0, 0, 0)"}}}),rt=function(e){var t=e.mainOption,a=e.subOption1,n=e.subOption1List,r=e.subOption2,i=e.subOption2List,c=e.dispatch,l=nt(),s=ee(t),o=function(e,t){return c({type:"SELECT_DETAIL_PANE_SUB_OPTION",key:t,option:e.target.value})};return s?Object(oe.jsxs)("div",{className:"sub-options",children:["(Modelling network as ",Object(oe.jsx)(tt,{value:a,onChange:function(e){return o(e,"subOption1")},input:Object(oe.jsx)(et,{}),MenuProps:{classes:{paper:l.paper}},children:n.map((function(e){return Object(oe.jsx)(at,{value:e,children:e},e)}))})," and ",Object(oe.jsx)(tt,{value:r,onChange:function(e){return o(e,"subOption2")},input:Object(oe.jsx)(et,{}),MenuProps:{classes:{paper:l.paper}},children:i.map((function(e){return Object(oe.jsx)(at,{value:e,children:e},e)}))})," graph)"]}):s?void 0:Object(oe.jsxs)("div",{className:"sub-options",children:["(Between ",Object(oe.jsx)(tt,{value:a,onChange:function(e){return o(e,"subOption1")},input:Object(oe.jsx)(et,{}),MenuProps:{classes:{paper:l.paper}},children:n.map((function(e){return Object(oe.jsx)(at,{value:e,children:e},e)}))})," and ",Object(oe.jsx)(tt,{value:r,onChange:function(e){return o(e,"subOption2")},input:Object(oe.jsx)(et,{}),MenuProps:{classes:{paper:l.paper}},children:i.map((function(e){return Object(oe.jsx)(at,{value:e,children:e},e)}))}),")"]})},it=(a(336),Object(n.memo)((function(e){var t=e.mainOption,a=e.mainOptionList,n=e.subOption1,r=e.subOption1List,i=e.subOption2,c=e.subOption2List,l=e.dispatch;return Object(oe.jsxs)("div",{className:"header",children:[Object(oe.jsx)(Ze,{mainOption:t,mainOptionList:a,dispatch:l}),Object(oe.jsx)(rt,{mainOption:t,subOption1:n,subOption1List:r,subOption2:i,subOption2List:c,dispatch:l})]})}))),ct=a(181),lt=a.n(ct),st=a(94),ot=a.n(st),ut=(a(445),10),dt=25,bt=10,jt=25,ft=function(e){var t=e.startYear,a=e.endYear,n=e.startX,r=e.endX,i=e.startY,c=e.endY,l=e.pathData;return Object(oe.jsx)("svg",{children:Object(oe.jsxs)("g",{style:{transform:"translate(".concat(dt,"px, ").concat(ut,"px)")},children:[Object(oe.jsx)("path",{d:l}),Object(oe.jsx)("text",{className:"start year",x:n,y:i,dx:"-3",children:t}),Object(oe.jsx)("text",{className:"end year",x:r,y:c,dx:"3",children:a})]})})},Ot=function(e){var t=0;for(var a in e)e[a].size>t&&(t=e[a].size);return t},ht=function(e,t){var a=0;return e.nodes().forEach((function(e){var n=t(e);n>a&&(a=n)})),a},pt=function(e){var t,a=new Set,n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.sourceID,c=r.targetID;a.add(i),a.add(c)}}catch(l){n.e(l)}finally{n.f()}return a},mt=function(e,t){var a=new Set;if(t){var n,r=Object(d.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,c=i.sourceID,l=i.targetID;a.add("".concat(c,"-").concat(l))}}catch(h){r.e(h)}finally{r.f()}}else if(!t){var s,o=Object(d.a)(e);try{for(o.s();!(s=o.n()).done;){var u=s.value,b=u.sourceID,j=u.targetID,f=b<j?b:j,O=b<j?j:b;a.add("".concat(f,"-").concat(O))}}catch(h){o.e(h)}finally{o.f()}}return a},vt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={},r={};if(t){var i,c=Object(d.a)(e);try{for(c.s();!(i=c.n()).done;){var l=i.value,s=l.sourceID,o=l.targetID,u=l.linkRowList,b="".concat(s,"-").concat(o);b in n||(n[b]={weightSum:0,weightCount:0});var j,f=Object(d.a)(u);try{for(f.s();!(j=f.n()).done;){var O=j.value.weight;""!==O&&(n[b].weightSum+=+O,n[b].weightCount++)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){c.e(k)}finally{c.f()}}else if(!t){var h,p=Object(d.a)(e);try{for(p.s();!(h=p.n()).done;){var m=h.value,v=m.sourceID,g=m.targetID,y=m.linkRowList,N=v<g?v:g,E=v<g?g:v,x="".concat(N,"-").concat(E);x in n||(n[x]={weightSum:0,weightCount:0});var L,D=Object(d.a)(y);try{for(D.s();!(L=D.n()).done;){var S=L.value.weight;""!==S&&(n[x].weightSum+=+S,n[x].weightCount++)}}catch(k){D.e(k)}finally{D.f()}}}catch(k){p.e(k)}finally{p.f()}}if(a)for(var T in n)r[T]=0===n[T].weightCount?null:1/(n[T].weightSum/n[T].weightCount);else if(!a)for(var I in n)r[I]=0===n[I].weightCount?null:n[I].weightSum/n[I].weightCount;return r},gt=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],i=lt()();if(t||a){if(!t&&a){var c,l=pt(e),s=mt(e,!1),u=vt(e,!1,n),b=Object(d.a)(l);try{for(b.s();!(c=b.n()).done;){var j=c.value;r.push({data:{id:j}})}}catch(ce){b.e(ce)}finally{b.f()}var f,O=Object(d.a)(s);try{for(O.s();!(f=O.n()).done;){var h=f.value,p=h.split("-"),m=Object(o.a)(p,2),v=m[0],g=m[1],y=u[h];null!==y&&r.push({data:{source:v,target:g,weight:y}})}}catch(ce){O.e(ce)}finally{O.f()}}else if(t&&!a){var N,E=pt(e),x=mt(e,!0),L=Object(d.a)(E);try{for(L.s();!(N=L.n()).done;){var D=N.value;r.push({data:{id:D}})}}catch(ce){L.e(ce)}finally{L.f()}var S,T=Object(d.a)(x);try{for(T.s();!(S=T.n()).done;){var I=S.value,k=I.split("-"),_=Object(o.a)(k,2),A=_[0],w=_[1];r.push({data:{source:A,target:w}})}}catch(ce){T.e(ce)}finally{T.f()}}else if(t&&a){var C,R=pt(e),P=mt(e,!0),M=vt(e,!0,n),Y=Object(d.a)(R);try{for(Y.s();!(C=Y.n()).done;){var U=C.value;r.push({data:{id:U}})}}catch(ce){Y.e(ce)}finally{Y.f()}var B,F=Object(d.a)(P);try{for(F.s();!(B=F.n()).done;){var V=B.value,z=V.split("-"),W=Object(o.a)(z,2),K=W[0],H=W[1],G=M[V];null!==G&&r.push({data:{source:K,target:H,weight:G}})}}catch(ce){F.e(ce)}finally{F.f()}}}else{var X,q=pt(e),Q=mt(e,!1),$=Object(d.a)(q);try{for($.s();!(X=$.n()).done;){var J=X.value;r.push({data:{id:J}})}}catch(ce){$.e(ce)}finally{$.f()}var Z,ee=Object(d.a)(Q);try{for(ee.s();!(Z=ee.n()).done;){var te=Z.value,ae=te.split("-"),ne=Object(o.a)(ae,2),re=ne[0],ie=ne[1];r.push({data:{source:re,target:ie}})}}catch(ce){ee.e(ce)}finally{ee.f()}}return i.add(r),i},yt=function(e,t){var a=Object(j.d)(t,(function(e){return e.value})),n=Object(o.a)(a,2),r=n[0],i=n[1];e.domain([r,i])},Nt=function(e,t,a,n,r,i){var c=[],l=t.filter((function(e){return e.metadata.displayName===n}))[0],s=l.data,u=l.metadata.isBilateral,b=+r<+i?+r:+i,f=+r<+i?+i:+r,O=function(e,t,a,n){var r,i={},c=Object(d.a)(e);try{for(c.s();!(r=c.n()).done;){var l=r.value,s=l in t?t[l]:[];i[l]=s.filter((function(e){var t=e.year,r=e.value;return t>=a&&t<=n&&null!==r&&0!==r})).sort((function(e,t){return e.year-t.year}))}}catch(o){c.e(o)}finally{c.f()}return i}(u?function(e){var t,a=new Set,n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.sourceID,c=r.targetID,l=r.isDirected;l?a.add(i+"-"+c):l||(a.add(i+"-"+c),a.add(c+"-"+i))}}catch(s){n.e(s)}finally{n.f()}return a}(a):pt(a),s,b,f),h=Object(j.j)().domain([b,f]).range([0,120-dt-jt]),p=Object(j.j)().range([30-ut-bt,0]),m=Object(j.i)().curve(j.b).x((function(e){return h(e.year)})).y((function(e){return p(e.value)})),v=Object(j.e)(".0%");for(var g in O)if(0!==O[g].length){yt(p,O[g]);var y=O[g],N=y[0].value,E=y[y.length-1].value,x=(E-N)/Math.abs(N),L=x>0?"+".concat(v(x)):v(x),D=m(y),S=y[0].year,T=y[y.length-1].year,I=h(S),k=h(T),_=p(N),A=p(E);if(u){var w=g.split("-"),C=Object(o.a)(w,2),R=C[0],P=C[1],M=e[R].displayName,Y=e[P].displayName,U="".concat(M," \u2192 ").concat(Y);c.push({key:g,itemData:{sourceID:R,targetID:P},titleText:U,contentText:L,startYear:S,endYear:T,startX:I,endX:k,startY:_,endY:A,pathData:D,percentChange:x})}else if(!u){var B=g,F=e[B].displayName;c.push({key:g,itemData:{nodeID:B},titleText:F,contentText:L,startYear:S,endYear:T,startX:I,endX:k,startY:_,endY:A,pathData:D,percentChange:x})}}return c.sort((function(e,t){return t.percentChange-e.percentChange}))},Et=function(e,t){var a=[],n=function(e){var t,a={},n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.sourceID,c=r.targetID;i in a||(a[i]=new Set),c in a||(a[c]=new Set),a[i].add(c),a[c].add(i)}}catch(l){n.e(l)}finally{n.f()}return a}(e),r=Ot(n),i=Object(j.j)().domain([0,r]).range([0,100]);for(var c in n){var l=t[c].displayName,s=n[c].size;a.push({key:c,itemData:{nodeID:c},titleText:l,contentText:s,width:i(s)})}return a.sort((function(e,t){return t.width-e.width}))},xt=function(e,t){var a=[],n=function(e){var t,a={},n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.sourceID,c=r.targetID;c in a||(a[c]=new Set),a[c].add(i)}}catch(l){n.e(l)}finally{n.f()}return a}(e),r=Ot(n),i=Object(j.j)().domain([0,r]).range([0,100]);for(var c in n){var l=t[c].displayName,s=n[c].size;a.push({key:c,itemData:{nodeID:c},titleText:l,contentText:s,width:i(s)})}return a.sort((function(e,t){return t.width-e.width}))},Lt=function(e,t){var a=[],n=function(e){var t,a={},n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.sourceID,c=r.targetID;i in a||(a[i]=new Set),a[i].add(c)}}catch(l){n.e(l)}finally{n.f()}return a}(e),r=Ot(n),i=Object(j.j)().domain([0,r]).range([0,100]);for(var c in n){var l=t[c].displayName,s=n[c].size;a.push({key:c,itemData:{nodeID:c},titleText:l,contentText:s,width:i(s)})}return a.sort((function(e,t){return t.width-e.width}))},Dt=function(e,t,a){var n=[],r=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],r=new ot.a.datastructures.Graph;if(t){var i,c=mt(e,!1),l=vt(e,!1,a),s=Object(d.a)(c);try{for(s.s();!(i=s.n()).done;){var u=i.value,b=u.split("-"),j=Object(o.a)(b,2),f=j[0],O=j[1],h=l[u];null!==h&&n.push([f,O,h])}}catch(x){s.e(x)}finally{s.f()}r.add_weighted_edges_from(n)}else if(!t){var p,m=mt(e,!1),v=Object(d.a)(m);try{for(v.s();!(p=v.n()).done;){var g=p.value.split("-"),y=Object(o.a)(g,2),N=y[0],E=y[1];n.push([N,E])}}catch(x){v.e(x)}finally{v.f()}r.add_edges_from(n)}return r}(e,a),i=ot.a.algorithms.centrality.eigenvector_centrality(r),c=function(e){var t=0;for(var a in e){var n=e[a];n>t&&(t=n)}return t}(i),l=Object(j.j)().domain([0,c]).range([0,100]);for(var s in i){var u=t[s].displayName,b=i[s],f=Math.round(1e5*(b+Number.EPSILON))/1e5;n.push({key:s,itemData:{nodeID:s},titleText:u,contentText:f,width:l(b)})}return n.sort((function(e,t){return t.width-e.width}))},St=function(e,t,a,n,r,i){var c="directed"===r,l="weighted"===i;return!ee(n)?Nt(e,t,a,n,r,i):"Degree"===n?Et(a,e):"In Degree"===n?xt(a,e):"Out Degree"===n?Lt(a,e):"Closeness"===n?function(e,t,a,n){var r=[],i=gt(e,a,n,!0),c=n?{directed:a,weight:function(e){return e.data("weight")}}:{directed:a},l=i.$().ccn(c),s=ht(i,l.closeness),o=Object(j.j)().domain([0,s]).range([0,100]);return i.nodes().forEach((function(e){var a=e.data().id,n=t[a].displayName,i=l.closeness(e),c=Math.round(1e5*(i+Number.EPSILON))/1e5;r.push({key:a,itemData:{nodeID:a},titleText:n,contentText:c,width:o(i)})})),r.sort((function(e,t){return t.width-e.width}))}(a,e,c,l):"Betweenness"===n?function(e,t,a,n){var r=[],i=gt(e,a,n,!0),c=n?{directed:a,weight:function(e){return e.data("weight")}}:{directed:a},l=i.$().bc(c),s=ht(i,l.betweennessNormalized),o=Object(j.j)().domain([0,s]).range([0,100]);return i.nodes().forEach((function(e){var a=e.data().id,n=t[a].displayName,i=l.betweennessNormalized(e),c=Math.round(1e5*(i+Number.EPSILON))/1e5;r.push({key:a,itemData:{nodeID:a},titleText:n,contentText:c,width:o(i)})})),r.sort((function(e,t){return t.width-e.width}))}(a,e,c,l):"Eigenvector"===n?Dt(a,e,l):"PageRank"===n?function(e,t){var a=[],n=gt(e,!0,!1),r=n.$().pageRank(),i=ht(n,r.rank),c=Object(j.j)().domain([0,i]).range([0,100]);return n.nodes().forEach((function(e){var n=e.data().id,i=t[n].displayName,l=r.rank(e),s=Math.round(1e5*(l+Number.EPSILON))/1e5;a.push({key:n,itemData:{nodeID:n},titleText:i,contentText:s,width:c(l)})})),a.sort((function(e,t){return t.width-e.width}))}(a,e):[]},Tt=(a(446),function(e){var t=e.titleText,a=e.contentText,n=e.className,r=e.itemData,i=e.visualization,c=e.dispatch;return Object(oe.jsxs)("div",{className:"".concat(n," item"),onMouseEnter:function(e){return c({type:"MOUSE_ENTER_DETAIL_PANE_ITEM",itemEl:le()(e.target).closest(".item")[0],titleEl:le()(e.target).closest(".item").find(".title")[0],titleText:t,itemData:r})},onMouseLeave:function(){return c({type:"MOUSE_LEAVE_DETAIL_PANE_ITEM"})},children:[Object(oe.jsx)("div",{className:"title",children:t}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("span",{className:"text",children:a}),i]})]})}),It=(a(447),function(e){var t=e.width,a=e.percent,n=void 0===a||a;return n?Object(oe.jsx)("div",{className:"bar",style:{width:"".concat(t,"%")}}):n?void 0:Object(oe.jsx)("div",{className:"bar",style:{width:t}})}),kt=(a(448),Object(n.memo)((function(e){var t=e.countryIDToData,a=e.timeSeriesDataList,n=e.visualizationPaneList,r=e.mainOption,i=e.subOption1,c=e.subOption2,l=e.dispatch,s=!ee(r),u=St(t,a,n,r,i,c),d=function(e,t){return[e.length<=2*t?e:e.filter((function(e,a){return a>=0&&a<t})),e.length<=2*t?[]:e.filter((function(a,n){return n>=e.length-t&&n<=e.length-1}))]}(u,s?5:10),b=Object(o.a)(d,2),j=b[0],f=b[1],O=null;s&&(O=a.filter((function(e){return e.metadata.displayName===r}))[0].metadata.isBilateral?"bilateral":"non-bilateral");return 0===u.length?null:Object(oe.jsxs)("div",{className:"content ".concat(O),children:[j.map((function(e){return Object(oe.jsx)(Tt,{titleText:e.titleText,contentText:e.contentText,className:s?"spark-line":"bar",itemData:e.itemData,dispatch:l,visualization:s?Object(oe.jsx)(ft,{startYear:e.startYear,endYear:e.endYear,startX:e.startX,endX:e.endX,startY:e.startY,endY:e.endY,pathData:e.pathData}):Object(oe.jsx)(It,{width:e.width})},e.key)})),f.length>0?Object(oe.jsx)("div",{className:"seperator",children:"\u22ee"}):null,f.map((function(e){return Object(oe.jsx)(Tt,{titleText:e.titleText,contentText:e.contentText,className:s?"spark-line":"bar",itemData:e.itemData,dispatch:l,visualization:s?Object(oe.jsx)(ft,{startYear:e.startYear,endYear:e.endYear,startX:e.startX,endX:e.endX,startY:e.startY,endY:e.endY,pathData:e.pathData}):Object(oe.jsx)(It,{width:e.width})},e.key)})),Object(oe.jsxs)("div",{className:"see-full-list-button",onClick:function(){return l({type:"CLICK_DETAIL_PANE_DETAIL_BUTTON",mainOption:r,subOption1:i,subOption2:c,entryList:u})},children:[Object(oe.jsx)(je.b,{}),"Click to see full list"]})]})}))),_t=(a(449),Object(n.memo)((function(e){var t=e.countryIDToData,a=e.timeSeriesDataList,n=e.visualizationPaneList,r=e.detailPaneState,i=e.dispatch,c=r.isOpen,l=r.mainOption,s=r.mainOptionList,o=r.subOption1,u=r.subOption1List,d=r.subOption2,b=r.subOption2List,j=function(){return i({type:"TOGGLE_DETAIL_PANE"})};return c?Object(oe.jsxs)("div",{id:"detail-pane",className:"expanded",children:[Object(oe.jsx)("div",{className:"expand-and-collapse button",onClick:j,children:Object(oe.jsx)(de.b,{})}),Object(oe.jsx)(it,{mainOption:l,mainOptionList:s,subOption1:o,subOption1List:u,subOption2:d,subOption2List:b,dispatch:i}),Object(oe.jsx)(kt,{countryIDToData:t,timeSeriesDataList:a,visualizationPaneList:n,mainOption:l,subOption1:o,subOption2:d,dispatch:i})]}):c?void 0:Object(oe.jsx)("div",{id:"detail-pane",className:"collapsed",children:Object(oe.jsx)("div",{className:"expand-and-collapse button",onClick:j,onMouseEnter:function(e){return i({type:"MOUSE_ENTER_DETAIL_PANE_BUTTON",buttonEl:le()(e.target).closest(".button")[0]})},onMouseLeave:function(){return i({type:"MOUSE_LEAVE_DETAIL_PANE_BUTTON"})},children:Object(oe.jsx)(de.a,{})})})}))),At=(a(450),Object(n.memo)((function(e){var t=e.sourceState,a=e.targetState,n=e.searchDispatch,r=e.interfaceDispatch,i=t.query,c=t.list,l=t.listTop,s=t.listLeft,o=a.query,u=a.list,d=a.listTop,b=a.listLeft,j=function(e){return n({type:"INPUT_SOURCE_QUERY",inputEl:e.target})},f=function(e){return n({type:"INPUT_TARGET_QUERY",inputEl:e.target})},O=function(e,t){return n({type:"CLICK_COUNTRY_NAME",sourceOrTarget:e,countryName:t})},h=function(e,t){return n({type:"MOUSE_ENTER_COUNTRY_NAME",sourceOrTarget:e,countryName:t})},p=function(e,t){return n({type:"MOUSE_LEAVE_COUNTRY_NAME",sourceOrTarget:e,countryName:t})};return Object(oe.jsxs)("div",{className:"header",children:[Object(oe.jsxs)("div",{className:"search-bar",children:[Object(oe.jsxs)("label",{className:"source input-box",children:[Object(oe.jsx)("div",{className:"label",children:"SOURCE"}),Object(oe.jsx)("input",{type:"text",autoComplete:"off",spellCheck:"false",value:i,onChange:j,onFocus:j})]}),Object(oe.jsxs)("label",{className:"target input-box",children:[Object(oe.jsx)("div",{className:"label",children:"TARGET"}),Object(oe.jsx)("input",{type:"text",autoComplete:"off",spellCheck:"false",value:o,onChange:f,onFocus:f})]}),Object(oe.jsx)("div",{className:"search-button",onClick:function(){return n({type:"START_SEARCHING"})},children:Object(oe.jsx)(je.d,{})})]}),Object(oe.jsx)(de.e,{className:"close-button",onClick:function(){return r({type:"CLOSE_SEARCH_WINDOW"})}}),0===c.length?null:Object(oe.jsx)("div",{className:"source country-list",style:{top:l,left:s},children:c.map((function(e){var t=e.countryName,a=e.selected;return Object(oe.jsx)("div",{className:a?"source country-name selected":"source country-name",onClick:function(){O("source",t)},onMouseEnter:function(){h("source",t)},onMouseLeave:function(){p("source",t)},children:t},t)}))}),0===u.length?null:Object(oe.jsx)("div",{className:"target country-list",style:{top:d,left:b},children:u.map((function(e){var t=e.countryName,a=e.selected;return Object(oe.jsx)("div",{className:a?"target country-name selected":"target country-name",onClick:function(){O("target",t)},onMouseEnter:function(){h("target",t)},onMouseLeave:function(){p("target",t)},children:t},t)}))})]})}))),wt=(a(451),{width:180,height:60,margin:{top:10,left:30,bottom:10,right:30}}),Ct={width:370,height:70,margin:{top:10,left:40,bottom:10,right:40}},Rt=function(e){var t=e.isBilateral,a=e.data,n=Object(j.e)(".0%");if(t){var r=wt.margin,i=a.titleText,c=a.startYear,l=a.endYear,s=a.startX,o=a.endX,u=a.startY,d=a.endY,b=a.pathData,f=a.percentChange,O=f>0?"+".concat(n(f)):n(f);return Object(oe.jsxs)("div",{className:"line-chart",children:[Object(oe.jsx)("div",{className:"title",children:i}),Object(oe.jsx)("div",{className:"percent-change",children:O}),Object(oe.jsx)("svg",{children:Object(oe.jsxs)("g",{style:{transform:"translate(".concat(r.left,"px, ").concat(r.top,"px)")},children:[Object(oe.jsx)("path",{d:b}),Object(oe.jsx)("text",{className:"start year",x:s,y:u,dx:"-3",children:c}),Object(oe.jsx)("text",{className:"end year",x:o,y:d,dx:"3",children:l})]})})]})}if(!t){var h=Ct.margin,p=a.countryName,m=a.metricName,v=a.startValue,g=a.endValue,y=a.startYear,N=a.endYear,E=a.startX,x=a.endX,L=a.startY,D=a.endY,S=a.pathData,T=a.percentChange,I=T>=0?"increased":"decreased",k=Math.round(1e3*(v+Number.EPSILON))/1e3,_=Math.round(1e3*(g+Number.EPSILON))/1e3,A=T>0?"+".concat(n(T)):n(T);return Object(oe.jsxs)("div",{className:"line-chart",children:[Object(oe.jsxs)("div",{className:"description",children:["The ",m," of ",Object(oe.jsx)("span",{children:p})," ",I," from ",Object(oe.jsx)("span",{children:k})," in ",Object(oe.jsx)("span",{children:y})," to ",Object(oe.jsx)("span",{children:_})," in ",Object(oe.jsx)("span",{children:N})," (",Object(oe.jsx)("span",{children:A}),")."]}),Object(oe.jsx)("svg",{children:Object(oe.jsxs)("g",{style:{transform:"translate(".concat(h.left,"px, ").concat(h.top,"px)")},children:[Object(oe.jsx)("path",{d:S}),Object(oe.jsx)("text",{className:"start year",x:E,y:L,dx:"-5",children:y}),Object(oe.jsx)("text",{className:"end year",x:x,y:D,dx:"5",children:N})]})})]})}},Pt=(a(452),Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:300,fontSize:15,"&:not(.Mui-disabled):hover::before":{borderBottom:"1px dashed rgba(0, 0, 0, 1)"}},underline:{"&:before":{borderBottom:"1px dashed rgba(0, 0, 0, 0.42)"},"&:after":{borderBottom:"1px dashed rgba(0, 0, 0, 0.42)"}}})(Me.a)),Mt=Object(Ce.a)({root:{padding:0,"&.MuiSelect-select":{paddingRight:0},"&:focus":{backgroundColor:"transparent"}},icon:{display:"none"}})(Ye.a),Yt=Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:300,fontSize:13}})(Ue.a),Ut=Object(Re.a)({paper:{borderRadius:2}}),Bt=function(e){var t=e.sectionHeaderText,a=e.isBilateral,n=e.lineChartList,r=e.filterYearList,i=e.filterStartYear,c=e.filterEndYear,l=e.handleChangeStartYear,s=e.handleChangeEndYear,o=Ut();return a?Object(oe.jsxs)("div",{className:"time-series-section section bilateral",children:[Object(oe.jsx)("div",{className:"header",children:t}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("div",{className:"grid",children:n.map((function(e){return Object(oe.jsx)(Rt,{isBilateral:a,data:e},e.key)}))}),Object(oe.jsx)("div",{className:"dummy-for-padding"})]}),Object(oe.jsxs)("div",{className:"footer",children:["FILTER: Between ",Object(oe.jsx)(Mt,{value:i,onChange:l,input:Object(oe.jsx)(Pt,{}),MenuProps:{classes:{paper:o.paper}},children:r.map((function(e){return Object(oe.jsx)(Yt,{value:e,children:e},e)}))})," and ",Object(oe.jsx)(Mt,{value:c,onChange:s,input:Object(oe.jsx)(Pt,{}),MenuProps:{classes:{paper:o.paper}},children:r.map((function(e){return Object(oe.jsx)(Yt,{value:e,children:e},e)}))})]})]}):a?void 0:Object(oe.jsxs)("div",{className:"time-series-section section non-bilateral",children:[Object(oe.jsx)("div",{className:"header",children:t}),Object(oe.jsx)("div",{className:"content",children:n.map((function(e){return Object(oe.jsx)(Rt,{isBilateral:a,data:e},e.key)}))}),Object(oe.jsxs)("div",{className:"footer",children:["FILTER: Between ",Object(oe.jsx)(Mt,{value:i,onChange:l,input:Object(oe.jsx)(Pt,{}),MenuProps:{classes:{paper:o.paper}},children:r.map((function(e){return Object(oe.jsx)(Yt,{value:e,children:e},e)}))})," and ",Object(oe.jsx)(Mt,{value:c,onChange:s,input:Object(oe.jsx)(Pt,{}),MenuProps:{classes:{paper:o.paper}},children:r.map((function(e){return Object(oe.jsx)(Yt,{value:e,children:e},e)}))})]})]})},Ft=(a(453),a(182)),Vt=a.n(Ft),zt={},Wt=function(){var e="";for(var t in zt)for(var a in zt[t])e+=".".concat(t,".data-table .row > .cell:nth-child(").concat(a,") { \n\t\t\t\twidth: ").concat(zt[t][a],"px;\n\t\t\t}");return e},Kt=(a(458),function(e){var t=e.tableName,a=e.attributeList,r=e.tableRowList;return function(e,t){var a=Object(n.useState)(null),r=Object(o.a)(a,2),i=r[0],c=r[1];Object(n.useEffect)((function(){return c(new Vt.a({scrollId:"".concat(e,"-scroll-area"),contentId:"".concat(e,"-content-area")})),le()(".".concat(e,".data-table > .header > .row > .cell")).resizable({handles:"e",start:function(t,a){e in zt||(zt[e]={}),a.element.find(".ui-resizable-handle").css("background","DodgerBlue")},stop:function(t,a){var n,r=a.element.index()+1,i=a.size.width;zt[e][r]=i,n=Wt(),le()("#table-resize-style").html(n),a.element.find(".ui-resizable-handle").css("background","")}}),function(){var t;delete zt[e],t=Wt(),le()("#table-resize-style").html(t)}}),[e]),Object(n.useEffect)((function(){null!==i&&i.update(t)}),[i,t])}(t,r),Object(oe.jsxs)("div",{className:"".concat(t," data-table"),children:[Object(oe.jsx)("div",{className:"header",children:Object(oe.jsx)("div",{className:"row",children:a.map((function(e){return Object(oe.jsx)("div",{className:"cell",children:Object(oe.jsx)("div",{className:"label",children:e})},e)}))})}),Object(oe.jsx)("div",{className:"content",id:"".concat(t,"-scroll-area"),onScroll:function(e){var a=le()(e.target).scrollLeft();le()(".".concat(t,".data-table .header .row")).scrollLeft(a)},children:Object(oe.jsx)("div",{id:"".concat(t,"-content-area"),className:"content-wrapper"})})]})}),Ht=(a(459),Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:300,fontSize:14,"&:not(.Mui-disabled):hover::before":{borderBottom:"1px dashed rgba(0, 0, 0, 1)"}},underline:{"&:before":{borderBottom:"1px dashed rgba(0, 0, 0, 0.42)"},"&:after":{borderBottom:"1px dashed rgba(0, 0, 0, 0.42)"}}})(Me.a)),Gt=Object(Ce.a)({root:{padding:0,"&.MuiSelect-select":{paddingRight:0},"&:focus":{backgroundColor:"transparent"}},icon:{display:"none"}})(Ye.a),Xt=Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:300,fontSize:13}})(Ue.a),qt=Object(Re.a)({paper:{borderRadius:2}}),Qt=function(e){var t=e.tableName,a=e.tableHeaderText,n=e.attributeList,r=e.tableRowList,i=e.filterAttrNameList,c=e.filterAttrValueList,l=e.filterAttrName,s=e.filterAttrValue,o=e.handleChangeAttrName,u=e.handleChangeAttrValue,d=qt();return Object(oe.jsxs)("div",{className:"data-table-section section",children:[Object(oe.jsx)("div",{className:"header",children:a}),Object(oe.jsx)("div",{className:"content",children:Object(oe.jsx)(Kt,{tableName:t,attributeList:n,tableRowList:r})}),0===c.length?Object(oe.jsxs)("div",{className:"footer",children:["FILTER: ",Object(oe.jsx)(Gt,{value:l,onChange:o,input:Object(oe.jsx)(Ht,{}),MenuProps:{classes:{paper:d.paper}},children:i.map((function(e){return Object(oe.jsx)(Xt,{value:e,children:e.displayName},e.key)}))})]}):Object(oe.jsxs)("div",{className:"footer",children:["FILTER: ",Object(oe.jsx)(Gt,{value:l,onChange:o,input:Object(oe.jsx)(Ht,{}),MenuProps:{classes:{paper:d.paper}},children:i.map((function(e){return Object(oe.jsx)(Xt,{value:e,children:e.displayName},e.key)}))})," equals ",Object(oe.jsx)(Gt,{value:s,onChange:u,input:Object(oe.jsx)(Ht,{}),MenuProps:{classes:{paper:d.paper}},children:c.map((function(e){return Object(oe.jsx)(Xt,{value:e,children:e.displayName},e.key)}))})]})]})},$t=(a(460),function(e){var t=e.inferredSourceName,a=e.inferredTargetName,n=e.timeSeriesSearchResultList,r=e.linkSearchResultList,i=null!==t||null!==a,c=n.length>0||r.length>0;if(!i)return"PLEASE ENTER SEARCH QUERIES";if(i&&!c){if(null!==t&&null!==a)return"CANNOT FIND SEARCH RESULTS FOR SOURCE: ".concat(t.toUpperCase()," \n\t\t\t\t\tAND TARGET: ").concat(a.toUpperCase());if(null===t&&null!==a)return"CANNOT FIND SEARCH RESULTS FOR TARGET: ".concat(a.toUpperCase());if(null!==t&&null===a)return"CANNOT FIND SEARCH RESULTS FOR SOURCE: ".concat(t.toUpperCase())}if(i&&c){if(null!==t&&null!==a)return"SEARCH RESULTS FOR SOURCE: ".concat(t.toUpperCase()," \n\t\t\t\t\tAND TARGET: ").concat(a.toUpperCase());if(null===t&&null!==a)return"SEARCH RESULTS FOR TARGET: ".concat(a.toUpperCase());if(null!==t&&null===a)return"SEARCH RESULTS FOR SOURCE: ".concat(t.toUpperCase())}}),Jt=Object(n.memo)((function(e){var t=e.contentState,a=e.searchDispatch;if(null===t)return null;if(null!==t){var n=t.timeSeriesSearchResultList,r=t.linkSearchResultList,i=function(e,t,n){return a({type:"FILTER_TIME_SERIES_SEARCH_RESULT",searchResultKey:e,filterStartYear:t,filterEndYear:n})};return Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("div",{className:"result-description",children:$t(t)}),n.map((function(e){var t=e.key,a=e.sectionHeaderText,n=e.isBilateral,r=e.lineChartList,c=e.filterYearList,l=e.filterStartYear,s=e.filterEndYear;return Object(oe.jsx)(Bt,{sectionHeaderText:a,isBilateral:n,lineChartList:r,filterYearList:c,filterStartYear:l,filterEndYear:s,handleChangeStartYear:function(e){i(t,e.target.value,s)},handleChangeEndYear:function(e){i(t,l,e.target.value)}},t)})),r.map((function(e){var t=e.key,n=e.tableName,r=e.tableHeaderText,i=e.attributeList,c=e.tableRowList,l=e.filterAttrNameList,s=e.filterAttrValueList,o=e.filterAttrName,u=e.filterAttrValue;return Object(oe.jsx)(Qt,{tableName:n,tableHeaderText:r,attributeList:i,tableRowList:c,filterAttrNameList:l,filterAttrValueList:s,filterAttrName:o,filterAttrValue:u,handleChangeAttrName:function(e){!function(e,t){a({type:"SELECT_FILTER_ATTRIBUTE_NAME",searchResultKey:e,filterAttrName:t})}(t,e.target.value)},handleChangeAttrValue:function(e){!function(e,t,n){a({type:"SELECT_FILTER_ATTRIBUTE_VALUE",searchResultKey:e,filterAttrName:t,filterAttrValue:n})}(t,o,e.target.value)}},t)}))]})}})),Zt=a(60),ea=a.n(Zt),ta=function(e,t){var a=0===e.indexOf(t),n=null;return e.length>t.length?a?n=ea()(e,t)/e.length-1:a||(n=ea()(e,t)/e.length):e.length<=t.length&&(a?n=ea()(e,t)/t.length-1:a||(n=ea()(e,t)/t.length)),n},aa=function(e,t){if(""===t)return[];var a,n=t.toLowerCase().replace(/\s+/g,""),r=[],i=Object(d.a)(e);try{for(i.s();!(a=i.n()).done;){var c=a.value,l=c.toLowerCase().replace(/\s+/g,"");r.push({countryName:c,wordDistance:ta(l,n),selected:!1})}}catch(s){i.e(s)}finally{i.f()}return r.sort((function(e,t){return e.wordDistance-t.wordDistance})).filter((function(e,t){return t<5}))},na=function(e){for(var t=0;t<e.length;t++)if(e[t].selected)return t;return null},ra=function(e,t){var a=Object(j.d)(t,(function(e){return e.value})),n=Object(o.a)(a,2),r=n[0],i=n[1];e.domain([r,i])},ia=function(e,t){if(""===t)return{ID:null,countryName:null};var a,n=t.toLowerCase().replace(/\s+/g,""),r=[],i=Object(d.a)(e);try{for(i.s();!(a=i.n()).done;){var c=a.value,l=c.name,s=c.ID,o=l.toLowerCase().replace(/\s+/g,""),u=ta(o,n);r.push({ID:s,countryName:l,wordDistance:u})}}catch(b){i.e(b)}finally{i.f()}return r.sort((function(e,t){return e.wordDistance-t.wordDistance}))[0]},ca=function(e,t,a){var n,r=[],i=Object(d.a)(e);try{for(i.s();!(n=i.n()).done;){var c,l=n.value,s="",o=Object(d.a)(t);try{for(o.s();!(c=o.n()).done;){var u=c.value,b=u.attributeName,j=u.isID,f=l[b];""===f?f="null":j&&(f=a[f].displayName),s+='<div class="cell">'.concat(f,"</div>")}}catch(O){o.e(O)}finally{o.f()}s='<div class="row">'.concat(s,"</div>"),r.push(s)}}catch(O){i.e(O)}finally{i.f()}return r},la=function(e,t,a,n){if(null===e&&null===t)return[];var r,i=[],c=Object(d.a)(n);try{var l=function(){var n=r.value,c=[],l=n.data,s=n.metadata,u=s.isBilateral,d=s.yearList,b=s.displayName,f=s.metricName,O=u?wt:Ct,h=O.width,p=O.height,m=O.margin,v=function(e,t,a,n){var r={};if(n)for(var i in a){var c=i.split("-"),l=Object(o.a)(c,2),s=l[0],u=l[1];(null===e||e===s)&&(null===t||t===u)&&(r[i]=a[i].filter((function(e){var t=e.value;return null!==t&&0!==t})))}else n||(null!==e&&e in a&&(r[e]=a[e].filter((function(e){var t=e.value;return null!==t&&0!==t}))),null!==t&&t in a&&(r[t]=a[t].filter((function(e){var t=e.value;return null!==t&&0!==t}))));return r}(e,t,l,u),g=Object(j.j)().domain([d[0],d[d.length-1]]).range([0,h-m.left-m.right]),y=Object(j.j)().range([p-m.top-m.bottom,0]),N=Object(j.i)().curve(j.b).x((function(e){return g(e.year)})).y((function(e){return y(e.value)}));for(var E in v)if(0!==v[E].length){ra(y,v[E]);var x=v[E],L=x[0].value,D=x[x.length-1].value,S=(D-L)/Math.abs(L),T=N(x),I=x[0].year,k=x[x.length-1].year,_=g(I),A=g(k),w=y(L),C=y(D);if(u){var R=E.split("-"),P=Object(o.a)(R,2),M=P[0],Y=P[1],U=a[M].displayName,B=a[Y].displayName,F="".concat(U," \u2192 ").concat(B);c.push({key:E,titleText:F,startYear:I,endYear:k,startX:_,endX:A,startY:w,endY:C,pathData:T,percentChange:S,timeSeriesList:x})}else if(!u){var V=a[E].displayName;c.push({key:E,countryName:V,metricName:f,startValue:L,endValue:D,startYear:I,endYear:k,startX:_,endX:A,startY:w,endY:C,pathData:T,percentChange:S,timeSeriesList:x})}}c.length>0&&i.push({key:b,sectionHeaderText:b,isBilateral:u,filterYearList:d,filterStartYear:d[0],filterEndYear:d[d.length-1],lineChartList:c.sort((function(e,t){return t.percentChange-e.percentChange}))})};for(c.s();!(r=c.n()).done;)l()}catch(s){c.e(s)}finally{c.f()}return i},sa=function(e,t,a,n){var r,i=[],c=Object(d.a)(a);try{for(c.s();!(r=c.n()).done;){var l=r.value;if(n){var s=l.node1,o=l.node2;(null===e||e===s)&&(null===t||t===o)&&i.push(l)}else if(!n){var u=l.node1,b=l.node2,j=null!==e,f=null!==t,O=e===u,h=e===b,p=t===u,m=t===b;(j&&!f&&(O||h)||!j&&f&&(p||m)||j&&f&&O&&m||j&&f&&p&&h)&&i.push(l)}}}catch(v){c.e(v)}finally{c.f()}return i},oa=function(e,t,a){var n,r=t.attributeName,i=t.isID,c=new Set,l=[],s=Object(d.a)(e);try{for(s.s();!(n=s.n()).done;){var o=n.value;c.add(o[r])}}catch(O){s.e(O)}finally{s.f()}var u,b=Object(d.a)(c);try{for(b.s();!(u=b.n()).done;){var j=u.value,f=j;i&&(f=a[j].displayName),""===j&&(f="null"),l.push({key:j,attributeValue:j,displayName:f})}}catch(O){b.e(O)}finally{b.f()}return l},ua={source:{query:"",list:[],listTop:null,listLeft:null},target:{query:"",list:[],listTop:null,listLeft:null},content:null,isLoading:!1},da=function(e,t,a){switch(a.type){case"INPUT_SOURCE_QUERY":var n=a.inputEl,r=t.nodeList,i=n.getBoundingClientRect(),c=r.map((function(e){return e.name}));return Object(u.a)(Object(u.a)({},e),{},{source:{query:n.value,listLeft:i.left,listTop:i.top+i.height+20,list:aa(c,n.value)},target:Object(u.a)(Object(u.a)({},e.target),{},{list:[]})});case"INPUT_TARGET_QUERY":var l=a.inputEl,s=t.nodeList,o=l.getBoundingClientRect(),b=s.map((function(e){return e.name}));return Object(u.a)(Object(u.a)({},e),{},{target:{query:l.value,listLeft:o.left,listTop:o.top+o.height+20,list:aa(b,l.value)},source:Object(u.a)(Object(u.a)({},e.source),{},{list:[]})});case"REMOVE_COUNTRY_LIST":return Object(u.a)(Object(u.a)({},e),{},{source:Object(u.a)(Object(u.a)({},e.source),{},{list:[]}),target:Object(u.a)(Object(u.a)({},e.target),{},{list:[]})});case"CLICK_COUNTRY_NAME":var f=a.sourceOrTarget,O=a.countryName;return Object(u.a)(Object(u.a)({},e),{},Object(_.a)({},f,{query:O,list:[],listTop:null,listLeft:null}));case"MOUSE_ENTER_COUNTRY_NAME":var h=a.sourceOrTarget,p=a.countryName;return Object(u.a)(Object(u.a)({},e),{},Object(_.a)({},h,Object(u.a)(Object(u.a)({},e[h]),{},{list:e[h].list.map((function(e){return e.countryName!==p?Object(u.a)(Object(u.a)({},e),{},{selected:!1}):Object(u.a)(Object(u.a)({},e),{},{selected:!0})}))})));case"MOUSE_LEAVE_COUNTRY_NAME":var m=a.sourceOrTarget,v=a.countryName;return Object(u.a)(Object(u.a)({},e),{},Object(_.a)({},m,Object(u.a)(Object(u.a)({},e[m]),{},{list:e[m].list.map((function(e){return e.countryName!==v?e:Object(u.a)(Object(u.a)({},e),{},{selected:!1})}))})));case"START_SEARCHING":return Object(u.a)(Object(u.a)({},e),{},{source:Object(u.a)(Object(u.a)({},e.source),{},{list:[]}),target:Object(u.a)(Object(u.a)({},e.target),{},{list:[]}),isLoading:!0});case"FINISH_SEARCHING":var g=a.inferredSourceName,y=a.inferredTargetName,E=a.timeSeriesSearchResultList,x=a.linkSearchResultList;return Object(u.a)(Object(u.a)({},e),{},{content:{inferredSourceName:g,inferredTargetName:y,timeSeriesSearchResultList:E,linkSearchResultList:x},isLoading:!1});case"PRESS_ARROW_UP":var L=e.source.list.length>0?"source":"target",D=function(e){return null===e||0===e?4:e-1}(na(e[L].list));return Object(u.a)(Object(u.a)({},e),{},Object(_.a)({},L,Object(u.a)(Object(u.a)({},e[L]),{},{list:e[L].list.map((function(e,t){return t!==D?Object(u.a)(Object(u.a)({},e),{},{selected:!1}):Object(u.a)(Object(u.a)({},e),{},{selected:!0})}))})));case"PRESS_ARROW_DOWN":var S=a.el,T=t.nodeList,I=le()(S).closest(".source.input-box").length>0,k=le()(S).closest(".target.input-box").length>0,A=e.source.list.length>0,w=e.target.list.length>0;if(A||w){var C=A?"source":"target",R=function(e){return null===e||4===e?0:e+1}(na(e[C].list));return Object(u.a)(Object(u.a)({},e),{},Object(_.a)({},C,Object(u.a)(Object(u.a)({},e[C]),{},{list:e[C].list.map((function(e,t){return t!==R?Object(u.a)(Object(u.a)({},e),{},{selected:!1}):Object(u.a)(Object(u.a)({},e),{},{selected:!0})}))})))}if(!A&&!w&&I){var P=le()(S).closest("input")[0],M=P.getBoundingClientRect(),Y=T.map((function(e){return e.name}));return Object(u.a)(Object(u.a)({},e),{},{source:{query:P.value,listLeft:M.left,listTop:M.top+M.height+20,list:aa(Y,P.value)}})}if(!A&&!w&&k){var U=le()(S).closest("input")[0],B=U.getBoundingClientRect(),F=T.map((function(e){return e.name}));return Object(u.a)(Object(u.a)({},e),{},{target:{query:U.value,listLeft:B.left,listTop:B.top+B.height+20,list:aa(F,U.value)}})}return e;case"PRESS_ENTER":var V=e.source.list.length>0,z=e.target.list.length>0;if(V||z){var W=V?"source":"target",K=function(e){var t,a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value,r=n.countryName;if(n.selected)return r}}catch(i){a.e(i)}finally{a.f()}return null}(e[W].list);if(null!==K)return Object(u.a)(Object(u.a)({},e),{},Object(_.a)({},W,{list:[],listTop:null,listLeft:null,query:null===K?e[W].query:K}))}return Object(u.a)(Object(u.a)({},e),{},{source:Object(u.a)(Object(u.a)({},e.source),{},{list:[]}),target:Object(u.a)(Object(u.a)({},e.target),{},{list:[]}),isLoading:!0});case"FILTER_TIME_SERIES_SEARCH_RESULT":var H=a.searchResultKey,G=a.filterStartYear,X=a.filterEndYear,q=function(e,t,a,n){var r,i=Object(N.a)(e),c=Object(d.a)(i);try{for(c.s();!(r=c.n()).done;){var l=r.value;l.key===t&&function(){var e,t=l.lineChartList,r=l.isBilateral?wt:Ct,i=r.width,c=r.height,s=r.margin,o=[],u=Object(j.j)().domain([a,n].sort((function(e,t){return e-t}))).range([0,i-s.left-s.right]),b=Object(j.j)().range([c-s.top-s.bottom,0]),f=Object(j.i)().curve(j.b).x((function(e){return u(e.year)})).y((function(e){return b(e.value)})),O=Object(d.a)(t);try{for(O.s();!(e=O.n()).done;){var h=e.value,p=h.timeSeriesList.filter((function(e){var t=e.year;return t>=a&&t<=n||t>=n&&t<=a}));0!==p.length&&(ra(b,p),h.startValue=p[0].value,h.endValue=p[p.length-1].value,h.startYear=p[0].year,h.endYear=p[p.length-1].year,h.startX=u(h.startYear),h.endX=u(h.endYear),h.startY=b(h.startValue),h.endY=b(h.endValue),h.pathData=f(p),h.percentChange=(h.endValue-h.startValue)/Math.abs(h.startValue),o.push(h))}}catch(m){O.e(m)}finally{O.f()}l.lineChartList=o.sort((function(e,t){return t.percentChange-e.percentChange})),l.filterStartYear=a,l.filterEndYear=n}()}}catch(s){c.e(s)}finally{c.f()}return i}(e.content.timeSeriesSearchResultList,H,G,X);return Object(u.a)(Object(u.a)({},e),{},{content:Object(u.a)(Object(u.a)({},e.content),{},{timeSeriesSearchResultList:q})});case"SELECT_FILTER_ATTRIBUTE_NAME":var Q=a.searchResultKey,$=a.filterAttrName,J=function(e,t,a,n){var r,i=Object(N.a)(e),c=Object(d.a)(i);try{for(c.s();!(r=c.n()).done;){var l=r.value;if(l.key===t){if(l.filterAttrName.key===a.key)break;if(null===a.attributeName){var s=l.displayName,o=l.dataTableAttrList,u=l.linkRowList;l.filterAttrValueList=[],l.filterAttrName=a,l.filterAttrValue="",l.tableHeaderText="".concat(s," (").concat(u.length," ").concat(1===u.length?"row":"rows",")"),l.tableRowList=ca(u,o,n)}else null!==a.attributeName&&function(){var e=l.displayName,t=l.dataTableAttrList,r=l.linkRowList,i=oa(r,a,n),c=i[0],s=r.filter((function(e){return e[a.attributeName]===c.attributeValue})),o="".concat(e," (").concat(s.length," ").concat(1===s.length?"row":"rows",")"),u=ca(s,t,n);l.filterAttrValueList=i,l.filterAttrName=a,l.filterAttrValue=c,l.tableHeaderText=o,l.tableRowList=u}()}}}catch(b){c.e(b)}finally{c.f()}return i}(e.content.linkSearchResultList,Q,$,t.countryIDToData);return Object(u.a)(Object(u.a)({},e),{},{content:Object(u.a)(Object(u.a)({},e.content),{},{linkSearchResultList:J})});case"SELECT_FILTER_ATTRIBUTE_VALUE":var Z=a.searchResultKey,ee=a.filterAttrName,te=a.filterAttrValue,ae=function(e,t,a,n,r){var i,c=Object(N.a)(e),l=Object(d.a)(c);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(s.key===t){if(s.filterAttrValue.key===n.key)break;var o=s.displayName,u=s.dataTableAttrList,b=s.linkRowList.filter((function(e){return e[a.attributeName]===n.attributeValue})),j="".concat(o," (").concat(b.length," ").concat(1===b.length?"row":"rows",")"),f=ca(b,u,r);s.filterAttrValue=n,s.tableHeaderText=j,s.tableRowList=f}}}catch(O){l.e(O)}finally{l.f()}return c}(e.content.linkSearchResultList,Z,ee,te,t.countryIDToData);return Object(u.a)(Object(u.a)({},e),{},{content:Object(u.a)(Object(u.a)({},e.content),{},{linkSearchResultList:ae})});default:throw new Error("Unhandled action type: ".concat(a.type))}},ba=function(e,t){var a=Object(n.useCallback)((function(e,a){return da(e,t,a)}),[t]),r=Object(n.useReducer)(a,ua),i=Object(o.a)(r,2),c=i[0],l=i[1],s=e.searchWindowIsOpen,u=t.nodeList,b=t.linkDataList,j=t.countryIDToData,f=t.timeSeriesDataList,O=c.isLoading,h=c.source.query,p=c.target.query;return Object(n.useEffect)((function(){return s&&(le()("#search-window").off("click").on("click",(function(e){for(var t=!1,a=0,n=["#search-window .close-button","#search-window .input-box","#search-window .country-list","#search-window .search-button"];a<n.length;a++){var r=n[a];if(le()(e.target).closest(r).length>0){t=!0;break}}t||l({type:"REMOVE_COUNTRY_LIST"})})),le()(document).off("keydown").on("keydown",(function(e){"ArrowUp"===e.key&&l({type:"PRESS_ARROW_UP"}),"ArrowDown"===e.key&&l({type:"PRESS_ARROW_DOWN",el:e.target}),"Enter"===e.key&&(document.activeElement.blur(),l({type:"PRESS_ENTER"}))}))),function(){s&&(le()("#search-window").off("click"),le()(document).off("keydown"))}}),[s]),Object(n.useEffect)((function(){if(O){var e=ia(u,h),t=e.ID,a=e.countryName,n=ia(u,p),r=n.ID,i=n.countryName,c=la(t,r,j,f),s=function(e,t,a,n){if(null===e&&null===t)return[];var r,i=[],c=Object(d.a)(n);try{for(c.s();!(r=c.n()).done;){var l=r.value,s=l.data,o=l.metadata,u=o.linkType,b=o.displayName,j=o.isDirected,f=o.dataTable,O=sa(e,t,s,j);if(O.length>0){var h,p="".concat(u,"-table"),m="".concat(b," (").concat(O.length," ").concat(1===O.length?"row":"rows",")"),v=f.attributeList.map((function(e){return e.displayName})),g=[{key:"none",attributeName:null,displayName:"None",isID:!1}],y=ca(O,f.attributeList,a),N=Object(d.a)(f.attributeList);try{for(N.s();!(h=N.n()).done;){var E=h.value,x=E.attributeName,L=E.displayName,D=E.isID;g.push({key:x,attributeName:x,displayName:L,isID:D})}}catch(S){N.e(S)}finally{N.f()}i.push({key:p,linkRowList:O,displayName:b,dataTableAttrList:f.attributeList,filterAttrNameList:g,filterAttrValueList:[],filterAttrName:g[0],filterAttrValue:"",tableName:p,tableHeaderText:m,attributeList:v,tableRowList:y})}}}catch(S){c.e(S)}finally{c.f()}return i}(t,r,j,b);setTimeout((function(){l({type:"FINISH_SEARCHING",inferredSourceName:a,inferredTargetName:i,timeSeriesSearchResultList:c,linkSearchResultList:s})}),100)}}),[O,h,p,u,b,j,f]),[c,l]},ja=(a(461),Object(n.memo)((function(e){var t=e.dataState,a=e.detailPaneIsOpen,n=e.searchWindowIsOpen,r=e.interfaceDispatch,i=ba({searchWindowIsOpen:n},t),c=Object(o.a)(i,2),l=c[0],s=l.source,u=l.target,d=l.content,b=l.isLoading,j=c[1];return n?Object(oe.jsxs)("div",{id:"search-window",className:"loader-installed",children:[Object(oe.jsx)(At,{sourceState:s,targetState:u,searchDispatch:j,interfaceDispatch:r}),Object(oe.jsx)(Jt,{contentState:d,searchDispatch:j}),b&&Object(oe.jsx)(Ge,{})]}):Object(oe.jsx)("div",{className:"search-window button",onClick:function(){return r({type:"OPEN_SEARCH_WINDOW"})},onMouseEnter:function(e){return r({type:"MOUSE_ENTER_SEARCH_WINDOW_BUTTON",buttonEl:le()(e.target).closest(".button")[0]})},onMouseLeave:function(){return r({type:"MOUSE_LEAVE_SEARCH_WINDOW_BUTTON"})},style:{right:a?290:40},children:Object(oe.jsx)(je.d,{})})}))),fa=a(35),Oa=function(e){var t=e.linkRowCount,a=e.sourceName,n=e.targetName,r=e.timelineSliderState,i=e.eventName,c=r.yearAttribute,l=r.value;return"no-filter"===c.key?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{children:t}),1===t?i:Object(fa.plural)(i)," between",Object(oe.jsx)("span",{children:a}),"and",Object(oe.jsx)("span",{children:n})]}):"is-start"===c.key?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{children:t}),1===t?i:Object(fa.plural)(i)," between",Object(oe.jsx)("span",{children:a}),"and",Object(oe.jsx)("span",{children:n}),"that ",1===t?"has":"have"," been started but not ended in",Object(oe.jsx)("span",{children:l})]}):"is-signed"===c.key?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{children:t}),1===t?i:Object(fa.plural)(i)," between",Object(oe.jsx)("span",{children:a}),"and",Object(oe.jsx)("span",{children:n}),"that ",1===t?"has":"have"," been signed but not ended in",Object(oe.jsx)("span",{children:l})]}):"is-in-force"===c.key?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{children:t}),1===t?i:Object(fa.plural)(i)," between",Object(oe.jsx)("span",{children:a}),"and",Object(oe.jsx)("span",{children:n}),"that ",1===t?"is":"are"," still in force in",Object(oe.jsx)("span",{children:l})]}):"include-start"===c.key?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{children:t}),1===t?i:Object(fa.plural)(i)," between",Object(oe.jsx)("span",{children:a}),"and",Object(oe.jsx)("span",{children:n}),"started between",Object(oe.jsx)("span",{children:l[0]}),"and",Object(oe.jsx)("span",{children:l[1]})]}):"include-sign"===c.key?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{children:t}),1===t?i:Object(fa.plural)(i)," between",Object(oe.jsx)("span",{children:a}),"and",Object(oe.jsx)("span",{children:n}),"signed between",Object(oe.jsx)("span",{children:l[0]}),"and",Object(oe.jsx)("span",{children:l[1]})]}):"include-in-force"===c.key?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("span",{children:t}),1===t?i:Object(fa.plural)(i)," between",Object(oe.jsx)("span",{children:a}),"and",Object(oe.jsx)("span",{children:n}),"entered into force between",Object(oe.jsx)("span",{children:l[0]}),"and",Object(oe.jsx)("span",{children:l[1]})]}):null},ha=(a(462),Object(n.memo)((function(e){var t=e.hoverState,a=e.timelineSliderState,r=e.countryIDToData,i=function(e){var t=Object(n.useRef)(),a=Object(n.useState)({tooltipTop:null,tooltipLeft:null}),r=Object(o.a)(a,2),i=r[0],c=i.tooltipTop,l=i.tooltipLeft,s=r[1],u=t.current,d="LINK"===e.object?e.data:{top:null,left:null},b=d.top,j=d.left;return Object(n.useEffect)((function(){if(u){var e=u.getBoundingClientRect(),t=e.width,a=e.height,n=window,r=n.innerWidth,i=n.innerHeight;s({tooltipTop:b+8+a>i?b-a-8-8:b,tooltipLeft:j+8+t>r?j-t-8-8:j})}}),[u,b,j]),[t,c,l]}(t),c=Object(o.a)(i,3),l=c[0],s=c[1],u=c[2];if("DATA_SELECTION_PANE_ITEM"===t.object){var b=t.data,j=b.top,f=b.left,O=b.text;return Object(oe.jsx)("div",{className:"data-selection-pane tooltip",style:{top:j,left:f},children:O})}if("LINK"===t.object){var h=t.data,p=h.sourceID,m=h.targetID,v=h.linkRowList,g=h.tooltipAttrList,y=h.eventName,N=v.length;if(N>1){var E=r[p].displayName,x=r[m].displayName;return Object(oe.jsxs)("div",{ref:l,className:"visualization-pane tooltip multiple",style:{top:s,left:u,opacity:null!==u?null:0},children:[Object(oe.jsx)(Oa,{linkRowCount:N,sourceName:E,targetName:x,timelineSliderState:a,eventName:y}),"(Click to see details)"]})}if(1===N){var L=function(e,t,a){var n,r=[],i=Object(d.a)(t);try{for(i.s();!(n=i.n()).done;){var c=n.value,l=c.attributeName,s=c.displayName,o=c.isID,u=e[l];""===u?u="null":o&&(u=a[u].displayName),r.push({attributeName:s,attributeValue:u})}}catch(b){i.e(b)}finally{i.f()}return r}(v[0],g,r);return Object(oe.jsx)("div",{ref:l,className:"visualization-pane tooltip single",style:{top:s,left:u,opacity:null!==u?null:0},children:L.map((function(e){return[Object(oe.jsx)("div",{className:"attribute-name",children:"".concat(e.attributeName,":")},"".concat(e.attributeName,"-name")),Object(oe.jsx)("div",{className:"attribute-value",children:e.attributeValue},"".concat(e.attributeName,"-value"))]}))})}}if("DETAIL_PANE_BUTTON"===t.object){var D=t.data,S=D.top,T=D.right,I=D.text;return Object(oe.jsx)("div",{className:"detail-pane tooltip light",style:{top:S,right:T},children:I})}if("DETAIL_PANE_NODE"===t.object&&t.data.showTooltip||"DETAIL_PANE_LINK"===t.object&&t.data.showTooltip){var k=t.data,_=k.top,A=k.right,w=k.text;return Object(oe.jsx)("div",{className:"detail-pane tooltip dark",style:{top:_,right:A},children:w})}if("SEARCH_WINDOW_BUTTON"===t.object){var C=t.data,R=C.top,P=C.right,M=C.text;return Object(oe.jsx)("div",{className:"search-window tooltip",style:{top:R,right:P},children:M})}if("CONTROL_BUTTON"===t.object){var Y=t.data,U=Y.top,B=Y.left,F=Y.text;return Object(oe.jsx)("div",{className:"control tooltip",style:{top:U,left:B},children:F})}return null}),(function(e,t){return e.hoverState===t.hoverState}))),pa=(a(463),Object(n.memo)((function(e){var t=e.focusState,a=e.timelineSliderState,r=e.countryIDToData,i=e.dispatch,c=function(){return i({type:"CLOSE_POP_UP_WINDOW"})};if("LINK"===t.object){var l=t.data,s=l.sourceID,o=l.targetID,u=l.linkRowList,b=l.dataTableAttrList,j=l.eventName,f=b.map((function(e){return e.displayName})),O=function(e,t,a){var n,r=[],i=Object(d.a)(e);try{for(i.s();!(n=i.n()).done;){var c,l=n.value,s="",o=Object(d.a)(t);try{for(o.s();!(c=o.n()).done;){var u=c.value,b=u.attributeName,j=u.isID,f=l[b];""===f?f="null":j&&(f=a[f].displayName),s+='<div class="cell">'.concat(f,"</div>")}}catch(O){o.e(O)}finally{o.f()}s='<div class="row">'.concat(s,"</div>"),r.push(s)}}catch(O){i.e(O)}finally{i.f()}return r}(u,b,r),h=u.length,p=r[s].displayName,m=r[o].displayName;return Object(oe.jsxs)("div",{id:"pop-up-window",className:"link",children:[Object(oe.jsx)("div",{className:"background",onClick:c}),Object(oe.jsxs)("div",{className:"window",children:[Object(oe.jsx)("div",{className:"close button",onClick:c,children:Object(oe.jsx)(de.e,{})}),Object(oe.jsxs)("div",{className:"header",children:[Object(oe.jsx)(Oa,{linkRowCount:h,sourceName:p,targetName:m,timelineSliderState:a,eventName:j}),":"]}),Object(oe.jsx)("div",{className:"content",children:Object(oe.jsx)(Kt,{tableName:"pop-up-window-table",attributeList:f,tableRowList:O})})]})]})}if("SPARK_LINE_LIST"===t.object){var v=t.data,g=v.headerText,y=v.entryList;return Object(oe.jsxs)("div",{id:"pop-up-window",className:"spark-line-list",children:[Object(oe.jsx)("div",{className:"background",onClick:c}),Object(oe.jsxs)("div",{className:"window",children:[Object(oe.jsx)("div",{className:"close button",onClick:c,children:Object(oe.jsx)(de.e,{})}),Object(oe.jsx)("div",{className:"header",children:g}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("div",{className:"grid",children:y.map((function(e){return Object(oe.jsxs)(n.Fragment,{children:[Object(oe.jsx)("div",{className:"title",children:e.titleText}),Object(oe.jsx)("div",{className:"chart",children:Object(oe.jsx)(ft,{startYear:e.startYear,endYear:e.endYear,startX:e.startX,endX:e.endX,startY:e.startY,endY:e.endY,pathData:e.pathData})}),Object(oe.jsx)("div",{className:"metric",children:e.contentText})]},e.key)}))}),Object(oe.jsx)("div",{className:"dummy-for-padding"})]})]})]})}if("BAR_LIST"===t.object){var N=t.data,E=N.headerText,x=N.entryList;return Object(oe.jsxs)("div",{id:"pop-up-window",className:"bar-list",children:[Object(oe.jsx)("div",{className:"background",onClick:c}),Object(oe.jsxs)("div",{className:"window",children:[Object(oe.jsx)("div",{className:"close button",onClick:c,children:Object(oe.jsx)(de.e,{})}),Object(oe.jsx)("div",{className:"header",children:E}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("div",{className:"grid",children:x.map((function(e){return Object(oe.jsxs)(n.Fragment,{children:[Object(oe.jsx)("div",{className:"title",children:e.titleText}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)(It,{width:1.5*e.width,percent:!1}),Object(oe.jsx)("div",{className:"text",children:e.contentText})]})]},e.key)}))}),Object(oe.jsx)("div",{className:"dummy-for-padding"})]})]})]})}return null}))),ma=(a(464),Object(n.memo)((function(e){var t=e.colorPickerState,a=e.dispatch,n=t.isOpen,r=t.linkKey,i=t.currColor,c=t.colorTop,l=t.colorLeft,s=t.colorWidth,o=t.colorHeight;return n?Object(oe.jsxs)("div",{className:"color-picker",children:[Object(oe.jsx)("div",{className:"background",onClick:function(){return a({type:"CLOSE_COLOR_PICKER"})}}),Object(oe.jsx)("div",{className:"curr-color",style:{top:c,left:l,width:s,height:o,color:i,background:i}}),Object(oe.jsx)("div",{className:"window",style:{top:c+o+8,left:l+s+8},children:j.k.map((function(e){return Object(oe.jsx)("div",{className:"color",style:{background:e,color:e},onClick:function(){!function(e,t){a({type:"SELECT_COLOR",linkKey:e,newColor:t})}(r,e)}},e)}))})]}):null}))),va=a(183),ga=(a(465),Object(Ce.a)({root:{fontFamily:"Quicksand",fontSize:15,fontWeight:300,color:"#3d3d3d",width:"100%","&:not(.Mui-disabled):hover::before":{borderBottom:"2px solid rgba(211, 211, 211, 0.6)"}},underline:{"&:before":{borderBottom:"1px solid rgba(211, 211, 211, 0.6)"},"&:after":{borderBottom:"2px solid rgba(211, 211, 211, 0.6)"}}})(Me.a)),ya=Object(Ce.a)({root:{"&:focus":{backgroundColor:"transparent"}},icon:{color:"rgba(211, 211, 211)"}})(Ye.a),Na=Object(Ce.a)({root:{fontFamily:"Quicksand",fontWeight:300,fontSize:13}})(Ue.a),Ea=function(e){var t=e.headerList,a=e.headerOption,n=e.linkDisaggregatorDispatch;return Object(oe.jsxs)("div",{className:"header",children:[Object(oe.jsx)("div",{className:"label",children:"DATASET"}),Object(oe.jsx)(ya,{value:a,onChange:function(e){return n({type:"SELECT_DATASET",option:e.target.value})},input:Object(oe.jsx)(ga,{}),children:t.map((function(e){return Object(oe.jsx)(Na,{value:e,children:e.displayName},e.linkType)}))})]})},xa=(a(466),function(e){var t=e.contentList,a=e.linkDisaggregatorDispatch;return Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("div",{className:"label",children:"DISAGGREGATE BY:"}),Object(oe.jsx)("div",{className:"list",children:t.map((function(e){var t=e.key,n=e.isSelected,r=e.displayName;return Object(oe.jsxs)("label",{className:"item",children:[Object(oe.jsx)("input",{type:"checkbox",checked:n,onChange:function(){a({type:"SELECT_CONTENT_OPTION",itemKey:t})}}),Object(oe.jsx)("span",{className:"checkmark"}),Object(oe.jsx)("span",{className:"text",children:r})]},t)}))})]})}),La=function(e){var t,a=[],n=e.linkDisaggregator.optionList,r=Object(d.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;a.push(Object(u.a)(Object(u.a)({},i),{},{key:i.displayName,isSelected:!1}))}}catch(c){r.e(c)}finally{r.f()}return a},Da=function(e){var t=function(e){var t,a=[],n=Object(d.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.metadata,i=r.displayName,c=r.linkType,l=r.linkDisaggregator;a.push({displayName:i,linkType:c,linkDisaggregator:l})}}catch(s){n.e(s)}finally{n.f()}return a}(e.linkDataList),a=La(t[0]);return{header:{list:t,option:t[0]},content:{list:a}}},Sa=function(e,t){switch(t.type){case"SELECT_DATASET":var a=t.option,n=La(a);return Object(u.a)(Object(u.a)({},e),{},{header:Object(u.a)(Object(u.a)({},e.header),{},{option:a}),content:{list:n}});case"SELECT_CONTENT_OPTION":var r=t.itemKey,i=function(e,t){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isSelected:e.key===t?!e.isSelected:e.isSelected})}))}(e.content.list,r);return Object(u.a)(Object(u.a)({},e),{},{content:{list:i}});case"REMOVE_CONTENT_SELECTION":var c=e.content.list.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isSelected:!1})}));return Object(u.a)(Object(u.a)({},e),{},{content:{list:c}});default:throw new Error("Unhandled action type: ".concat(t.type))}},Ta=(a(467),Object(n.memo)((function(e){var t=e.linkDataList,a=e.linkDisaggregatorIsOpen,r=e.interfaceDispatch,i=function(e,t){var a=Object(n.useReducer)(Sa,Da(t)),r=Object(o.a)(a,2),i=r[0],c=r[1],l=e.linkDisaggregatorIsOpen;return Object(n.useEffect)((function(){return function(){l&&c({type:"REMOVE_CONTENT_SELECTION"})}}),[l]),[i,c]}({linkDisaggregatorIsOpen:a},{linkDataList:t}),c=Object(o.a)(i,2),l=c[0],s=l.header,u=s.list,d=s.option,b=l.content.list,j=c[1],f=function(e){return r({type:"MOUSE_ENTER_CONTROL_BUTTON",buttonEl:le()(e.target).closest(".button")[0],text:le()(e.target).closest(".button").attr("tooltip-text")})},O=function(){return r({type:"MOUSE_LEAVE_CONTROL_BUTTON"})},h=function(){return r({type:"CLOSE_LINK_DISAGGREGATOR"})};return a?Object(oe.jsxs)("div",{id:"link-disaggregator",children:[Object(oe.jsx)("div",{className:"background",onClick:h}),Object(oe.jsx)("div",{className:"button",onClick:h,children:Object(oe.jsx)(va.a,{})}),Object(oe.jsxs)("div",{className:"window",children:[Object(oe.jsx)(Ea,{headerList:u,headerOption:d,linkDisaggregatorDispatch:j}),Object(oe.jsx)(xa,{contentList:b,linkDisaggregatorDispatch:j}),Object(oe.jsx)("div",{className:"confirm-button",onClick:function(){return r({type:"CONFIRM_LINK_DISAGGREGATION",linkKey:d.linkType,optionList:b.filter((function(e){return e.isSelected}))})},children:"OK"})]})]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"link-disaggregator open button",onMouseEnter:f,onMouseLeave:O,onClick:function(){return r({type:"OPEN_LINK_DISAGGREGATOR"})},"tooltip-text":"Disaggregate link",children:Object(oe.jsx)(se.b,{})}),Object(oe.jsx)("div",{className:"link-disaggregator clear button",onMouseEnter:f,onMouseLeave:O,onClick:function(){return r({type:"CLEAR_DISAGGREGATED_LINKS"})},"tooltip-text":"Clear disaggregated links",children:Object(oe.jsx)(je.e,{})})]})}))),Ia=(a(468),function(){var e=k(),t=Object(o.a)(e,1)[0],a=t.landData,r=t.interiorData,i=t.linkDataList,c=t.countryIDToData,l=t.timeSeriesDataList,s=t.isLoading,u=function(e){var t=Object(n.useCallback)((function(t,a){return ie(t,e,a)}),[e]),a=Object(n.useReducer)(t,re),r=Object(o.a)(a,2),i=r[0],c=r[1];return Object(n.useEffect)((function(){e.isLoading||c({type:"INIT_INTERFACE"})}),[e]),[i,c]}(t),d=Object(o.a)(u,2),b=d[0],j=d[1],f=b.linkPane.list,O=b.sourcePane.list,h=b.targetPane.list,p=b.visualizationPane.list,m=b.colorPicker,v=b.timelineSlider,g=b.detailPane,y=b.searchWindow.isOpen,N=b.linkDisaggregator.isOpen,E=b.hover,x=b.focus,L=b.isLoading;return s||L?Object(oe.jsx)(Ge,{}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{id:"left-column",children:Object(oe.jsx)(fe,{linkPaneList:f,sourcePaneList:O,targetPaneList:h,dispatch:j})}),Object(oe.jsxs)("div",{id:"right-column",children:[Object(oe.jsx)(Xe,{landData:a,interiorData:r,countryIDToData:c,linkPaneList:f,visualizationPaneList:p,timelineSliderState:v,hoverState:E,detailPaneIsOpen:g.isOpen,dispatch:j}),Object(oe.jsx)(_t,{countryIDToData:c,timeSeriesDataList:l,visualizationPaneList:p,detailPaneState:g,dispatch:j})]}),Object(oe.jsx)(ha,{hoverState:E,timelineSliderState:v,countryIDToData:c}),Object(oe.jsx)(pa,{focusState:x,timelineSliderState:v,countryIDToData:c,dispatch:j}),Object(oe.jsx)(ja,{dataState:t,detailPaneIsOpen:g.isOpen,searchWindowIsOpen:y,interfaceDispatch:j}),Object(oe.jsx)(ma,{colorPickerState:m,dispatch:j}),Object(oe.jsx)(Ta,{linkDataList:i,linkDisaggregatorIsOpen:N,interfaceDispatch:j})]})}),ka=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,506)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};a(469);s.a.load({google:{families:["Quicksand:300,400,600"]}}),c.a.render(Object(oe.jsx)(r.a.StrictMode,{children:Object(oe.jsx)(Ia,{})}),document.getElementById("root")),ka()}},[[470,1,2]]]);
//# sourceMappingURL=main.347c8c53.chunk.js.map